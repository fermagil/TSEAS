<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Plato Interactivo con Nutrición Avanzada</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* General styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc; /* gray-50 */
        }
        /* Plate container styling */
        .plate-container {
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            border: 4px solid #a0aec0; /* gray-400 */
            margin: 2rem auto;
            background-color: #edf2f7; /* gray-200 */
        }
        /* Individual plate sections */
        .plate-section {
            position: absolute;
            width: 50%;
            height: 50%;
            padding: 15px;
            overflow: hidden;
            box-sizing: border-box;
            border: 1px solid #e2e8f0; /* gray-300 */
        }
        /* Titles within plate sections */
        .plate-section h3 {
            position: absolute;
            font-weight: bold;
            font-size: 1.1rem;
            text-align: center;
            z-index: 2;
            background-color: transparent;
            transform: translate(-50%, -50%);
            width: 80%;
            pointer-events: none;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        /* Specific title positions and colors */
        #vegetables-section h3 { top: 35%; left: 60%; color: #276749; } /* green-800 */
        #fruits-section h3 { top: 15%; left: 60%; color: #9b2c2c; } /* red-800 */
        #grains-section h3 { top: 35%; left: 40%; color: #b7791f; } /* yellow-700 */
        #protein-section h3 { top: 15%; left: 40%; color: #c05621; } /* orange-700 */

        /* Lists within plate sections */
        .plate-section ul {
            position: absolute;
            list-style: none;
            padding: 0;
            margin: 0;
            left: 50%;        /* Centrado horizontal */
            top: 60%;         /* Centrado vertical */
            transform: translate(-50%, -50%); /* Ajuste fino */
            max-height: calc(100% - 40px); /* Ajusta según sea necesario */
            width: auto;
            max-width: 85%;
            overflow-y: auto;
            font-size: 0.9rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            color: #2d3748; /* gray-800 */
            text-align: left;
            scrollbar-width: thin;
            scrollbar-color: #a0aec0 #e2e8f0; /* gray-400 gray-300 */
        }
        .plate-section ul::-webkit-scrollbar { width: 8px; }
        .plate-section ul::-webkit-scrollbar-track { background: #e2e8f0; border-radius: 4px; } /* gray-300 */
        .plate-section ul::-webkit-scrollbar-thumb { background-color: #a0aec0; border-radius: 4px; border: 2px solid #e2e8f0; } /* gray-400 gray-300 */

        /* Individual list items in the plate */
        .plate-section ul li {
            margin-bottom: 5px;
            word-break: break-word;
            line-height: 1.4;
            display: flex;
            align-items: center;
            padding: 2px 0;
            position: relative;
        }
        /* Remove button styling in the plate */
        .plate-section ul li button {
            padding: 0 5px;
            line-height: 1;
            margin-left: 4px;
            flex-shrink: 0;
            border: none;
            background: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.1rem;
            color: #e53e3e; /* red-600 */
            transition: color 0.2s;
            text-shadow: 1px 1px 1px rgba(255,255,255,0.5);
        }
        .plate-section ul li button:hover { color: #c53030; } /* red-700 */
        /* Text span within list items */
        .plate-section ul li span { text-align: left; }

        /* Background colors for plate sections */
        #vegetables-section { top: 0; left: 0; background-color: #c6f6d5; border-radius: 100% 0 0 0; } /* green-200 */
        #fruits-section { bottom: 0; left: 0; background-color: #fed7d7; border-radius: 0 0 0 100%; } /* red-200 */
        #grains-section { top: 0; right: 0; background-color: #fefcbf; border-radius: 0 100% 0 0; } /* yellow-100 */
        #protein-section { bottom: 0; right: 0; background-color: #fbd38d; border-radius: 0 0 100% 0; } /* orange-200 */

        /* Side sections (Oils and Drinks) styling */
        .side-section {
            text-align: center;
            margin-top: 1rem;
            padding: 0.75rem;
            border: 1px solid #e2e8f0; /* gray-300 */
            border-radius: 0.375rem; /* rounded-md */
            background-color: #ffffff; /* white */
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
        }
        .side-section h3 {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #4a5568; /* gray-700 */
            margin-top: 0.5rem;
        }
        .side-section ul {
            list-style: none;
            padding: 0;
            margin: 0 auto;
            font-size: 0.9rem;
            max-width: 95%;
            flex-grow: 1;
            overflow-y: auto;
            width: 100%;
        }
        .side-section ul li {
            margin-bottom: 4px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            padding: 2px 5px;
            word-break: break-word;
        }
        .side-section ul li button {
            padding: 0 5px;
            line-height: 1;
            margin-left: 4px;
            flex-shrink: 0;
            border: none;
            background: none;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            color: #e53e3e; /* red-600 */
            transition: color 0.2s;
        }
        .side-section ul li button:hover { color: #c53030; } /* red-700 */
        .side-section ul li span { text-align: center; }

        /* Notification styling */
        #notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #48bb78; /* green-500 */
            color: white;
            padding: 10px 20px;
            border-radius: 5px; /* rounded */
            display: none;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            transition: opacity 0.5s ease-in-out;
            opacity: 0;
        }
        #notification.show { display: block; opacity: 1; }
        #notification.error { background-color: #f56565; } /* red-500 */

        /* Styles for limited/avoid items */
        .limited-item { font-style: italic; color: #718096; } /* gray-600 */
        .avoid-item { font-style: italic; color: #c53030; font-weight: bold; } /* red-700 */

        /* General button enhancements */
        button { transition: all 0.2s ease-in-out; }
        button:hover:not(.plate-section ul li button):not(.side-section ul li button) {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        button:active:not(.plate-section ul li button):not(.side-section ul li button) {
            transform: translateY(0);
            box-shadow: none;
        }

        /* Analysis Results Styling */
        #analysis-results {
            margin-top: 1rem;
            padding: 1rem;
            border: 1px solid #e2e8f0; /* gray-300 */
            border-radius: 0.375rem; /* rounded-md */
            background-color: #ffffff; /* white */
            width: 100%;
        }
        #analysis-results h3 { font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: #374151; text-align: center; padding-bottom: 0.5rem; border-bottom: 1px solid #d1d5db; } /* text-xl font-bold mb-4 text-gray-800 text-center pb-2 border-b border-gray-300 */
        #analysis-results h4 { font-size: 1rem; font-weight: 600; margin-top: 1rem; margin-bottom: 0.5rem; color: #4a5568; } /* text-lg font-semibold mt-4 mb-2 text-gray-700 */
        #analysis-results p, #analysis-results ul {
            font-size: 0.875rem; /* text-sm */
            color: #4a5568; /* gray-700 */
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }
        #analysis-results strong {
            color: #2d3748; /* gray-800 */
            font-weight: 600;
        }
        #analysis-results ul {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }
        #analysis-results ul li {
             padding-left: 1.2em; /* Add padding for the bullet */
             position: relative;
        }
        #analysis-results ul li::before {
            content: "•";
            color: #a0aec0; /* gray-400 */
            position: absolute; /* Position the bullet */
            left: 0;
            /* display: inline-block; */ /* Removed */
            /* width: 1em; */ /* Removed */
            /* margin-left: -1em; */ /* Removed */
        }
        #analysis-results .disclaimer {
            font-size: 0.75rem; /* text-xs */
            font-style: italic;
            color: #718096; /* gray-600 */
            margin-top: 1.5rem;
            text-align: center;
        }
        .detailed-analysis-section { margin-bottom: 1rem; }
        .nutrition-summary-section { margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px dashed #d1d5db; } /* border-gray-300 */
        .suggestions-section {
            background-color: #fefcbf; /* yellow-100 */
            border: 1px solid #fde047; /* yellow-300 */
            border-radius: 0.375rem; /* rounded-md */
            padding: 0.75rem;
            margin-bottom: 1rem;
        }
        .suggestions-section h4 { color: #ca8a04; } /* yellow-600 */
        .suggestions-section ul li::before { content: "▲"; color: #ca8a04; } /* yellow-600 */
        .positives-section {
            background-color: #dcfce7; /* green-100 */
            border: 1px solid #86efac; /* green-300 */
            border-radius: 0.375rem; /* rounded-md */
            padding: 0.75rem;
            margin-bottom: 1rem;
        }
        .positives-section h4 { color: #16a34a; } /* green-600 */
        .positives-section ul li::before { content: "✓"; color: #16a34a; } /* green-600 */

        /* Responsive adjustments */
        @media (max-width: 1024px) {
            .main-grid { grid-template-columns: 1fr; }
            .order-1-lg { order: 1; } /* Custom class for lg order */
            .order-2-lg { order: 2; } /* Custom class for lg order */
        }
        @media (max-width: 600px) {
            .plate-container { width: 90vw; height: 90vw; }
            .plate-section h3 { font-size: 0.9rem; }
            .plate-section ul { font-size: 0.8rem; }
            .plate-section ul li button { font-size: 1rem; }
            .side-section ul { font-size: 0.8rem; }
            .side-section ul li button { font-size: 0.9rem; }
            .add-button { padding-left: 0.75rem; padding-right: 0.75rem; }
            #analysis-results h3 { font-size: 1.1rem; }
            #analysis-results h4 { font-size: 0.9rem; }
            #analysis-results p, #analysis-results ul { font-size: 0.8rem; }
            .side-section-container { grid-template-columns: 1fr; }
        }
  /* --- Footer --- */
        footer { background-color: #e9ecef; text-align: center; padding: 25px 20px; color: #6c757d; border-top: 1px solid #dee2e6; margin-top: 40px; font-size: 0.9em; }
/* --- Header & Navigation --- */
	header {
    background-color: #ffffff;
    padding: 15px 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    border-bottom: 1px solid #dee2e6;
    position: fixed;
    top: 0;
    width: 99%;
    z-index: 1000;
}

.logo a {
    color: #4CAF50;
    text-decoration: none;
    font-size: 1.75em;
    font-weight: 600;
}

nav ul { list-style: none; padding: 0; margin: 0; display: flex; align-items: center; }
nav ul li { margin-left: 15px; }
nav ul li a {
    text-decoration: none;
    color: #495057;
    transition: color 0.3s ease;
    display: inline-block;
    padding: 8px 12px;
    border-radius: 5px;
    font-size: 0.95em;
}
nav ul li a:hover, nav ul li a.active {
    color: #4CAF50;
    background-color: #e9f5e9;
}
nav ul li.button a {
    background-color: #4CAF50;
    color: white;
    padding: 10px 18px;
    border-radius: 5px;
    font-weight: 500;
    transition: background-color 0.3s ease, transform 0.1s ease;
}
nav ul li.button a:hover {
    background-color: #45a049;
    color: white;
    transform: translateY(-1px);
}
h1 {
      color: #388E3C;
      font-size: 2.2em;
      margin-bottom: 20px;
    }
	  
    </style>
</head>
<body class="p-4 md:p-8 bg-gray-100">
<header>
    <div class="logo">
        <a href="#">NutriPlan</a>
    </div>
    <nav>
        <ul>
            <li><a href="https://fermagil.github.io/TSEAS/Inicio_NutriPlan.html">Inicio</a></li>
		<li><a href="https://fermagil.github.io/TSEAS/Macronutrientes.html">Macronutrientes</a></li>
		<li><a href="https://fermagil.github.io/TSEAS/Alimentacion_Saludable.html">Alimentación Saludable</a></li>
		<li><a href="https://fermagil.github.io/TSEAS/Code%20Nutri.html">Planificación</a></li>
            <li><a href="#" class="active">Mi Plato Saludable</a></li>
        </ul>
    </nav>
</header>
<div class="pt-24"> <!-- Ajusta el padding según el alto del header -->
    <!-- Aquí empieza tu contenido normal -->

    <h1 class="text-2xl md:text-3xl font-bold text-center mb-6">Mi  Plato  Saludable  Interactivo</h1>
    <p style="font-size: 15px; max-width: 850px; margin: 0 auto 30px auto; color: #495057; text-align: justify;">
    Descubre una forma práctica y visual de organizar tus comidas diarias. Este recurso interactivo, basado en el modelo del Plato Saludable de Harvard, te ayudará a equilibrar vegetales, proteínas, cereales integrales y otros grupos esenciales, de manera sencilla, educativa y adaptada a tus necesidades reales.
</p>
    <div class="container mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8 main-grid">
        <div class="lg:col-span-1 bg-white p-4 md:p-6 rounded-lg shadow-md order-2 order-1-lg">
            <h2 class="text-xl font-semibold mb-4 text-gray-600">1. Selecciona Alimentos</h2>
            <div class="mb-4">
                <label for="vegetables-select" class="block text-sm font-medium text-gray-700 mb-1">Vegetales (Máx: 5):</label>
                <select id="vegetables-select" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="">-- Elige un vegetal --</option>
                </select>
                <button onclick="addFood('vegetables')" class="add-button mt-2 w-full text-sm bg-green-500 hover:bg-green-600 text-white py-1 px-3 rounded shadow">Añadir Vegetal</button>
            </div>
            <div class="mb-4">
                <label for="fruits-select" class="block text-sm font-medium text-gray-700 mb-1">Frutas (Máx: 3):</label>
                <select id="fruits-select" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="">-- Elige una fruta --</option>
                </select>
                <button onclick="addFood('fruits')" class="add-button mt-2 w-full text-sm bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded shadow">Añadir Fruta</button>
            </div>
            <div class="mb-4">
                <label for="grains-select" class="block text-sm font-medium text-gray-700 mb-1">Granos Integrales (Máx: 3):</label>
                <select id="grains-select" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="">-- Elige un grano --</option>
                </select>
                <button onclick="addFood('grains')" class="add-button mt-2 w-full text-sm bg-yellow-500 hover:bg-yellow-600 text-white py-1 px-3 rounded shadow">Añadir Grano</button>
            </div>
            <div class="mb-4">
                <label for="protein-select" class="block text-sm font-medium text-gray-700 mb-1">Proteína Saludable (Máx: 3):</label>
                <select id="protein-select" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="">-- Elige una proteína --</option>
                </select>
                <button onclick="addFood('protein')" class="add-button mt-2 w-full text-sm bg-orange-500 hover:bg-orange-600 text-white py-1 px-3 rounded shadow">Añadir Proteína</button>
            </div>
            <div class="mb-4">
                <label for="oils-select" class="block text-sm font-medium text-gray-700 mb-1">Aceites Saludables:</label>
                <select id="oils-select" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="">-- Elige un aceite --</option>
                </select>
                <button onclick="addFood('oils')" class="add-button mt-2 w-full text-sm bg-teal-500 hover:bg-teal-600 text-white py-1 px-3 rounded shadow">Añadir Aceite</button>
            </div>
            <div class="mb-4">
                <label for="drinks-select" class="block text-sm font-medium text-gray-700 mb-1">Bebidas:</label>
                <select id="drinks-select" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="">-- Elige una bebida --</option>
                </select>
                <button onclick="addFood('drinks')" class="add-button mt-2 w-full text-sm bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded shadow">Añadir Bebida</button>
            </div>

            <h2 class="text-xl font-semibold mt-6 mb-4 text-gray-600">2. Define tu Contexto</h2>
            <div class="mb-4">
                <label for="objective-select" class="block text-sm font-medium text-gray-700 mb-1">Tu Objetivo:</label>
                <select id="objective-select" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="maintain">Mantener peso</option>
                    <option value="lose">Perder peso</option>
                    <option value="gain">Ganar masa muscular</option>
                </select>
            </div>
            <div class="mb-4">
                <label for="activity-level-select" class="block text-sm font-medium text-gray-700 mb-1">Tu Nivel de Actividad Física:</label>
                <select id="activity-level-select" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                    <option value="sedentary">Sedentaria</option>
                    <option value="light">Leve</option>
                    <option value="moderate">Moderada</option>
                    <option value="intense">Intensa</option>
                </select>
            </div>
            <div class="mb-4">
                <label for="daily-calories-input" class="block text-sm font-medium text-gray-700 mb-1">Ingesta Diaria de Calorías (kcal):</label>
                <input type="number" id="daily-calories-input" value="2000" class="w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" placeholder="Ej: 2000">
            </div>

            <button id="analyze-button" class="mt-4 w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded shadow-lg">
                3. Analizar Plato y Ver Recomendaciones
            </button>

            <div class="mt-6 pt-4 border-t border-gray-200">
                <h2 class="text-xl font-semibold mb-4 text-gray-600">Acciones</h2>
                <div class="grid grid-cols-2 gap-3">
                    <button id="save-button" class="bg-blue-500 hover:bg-blue-600 text-white text-sm py-2 px-3 rounded shadow">Guardar Plato</button>
                    <button id="load-button" class="bg-gray-500 hover:bg-gray-600 text-white text-sm py-2 px-3 rounded shadow">Cargar Plato</button>
                    <button id="print-button" class="bg-green-500 hover:bg-green-600 text-white text-sm py-2 px-3 rounded shadow">Imprimir/PDF</button>
                    <button id="clear-button" class="bg-red-500 hover:bg-red-600 text-white text-sm py-2 px-3 rounded shadow">Limpiar Plato</button>
                </div>
            </div>
        </div>

        <div class="lg:col-span-2 flex flex-col items-center order-1 order-2-lg">
            <div id="printable-area" class="w-full max-w-xl">
                <div id="plate" class="plate-container w-full aspect-square">
                    <div id="vegetables-section" class="plate-section">
                        <h3>Vegetales</h3>
                        <ul id="vegetables-list"></ul>
                    </div>
                    <div id="fruits-section" class="plate-section">
                        <h3>Frutas</h3>
                        <ul id="fruits-list"></ul>
                    </div>
                    <div id="grains-section" class="plate-section">
                        <h3>Granos Integrales</h3>
                        <ul id="grains-list"></ul>
                    </div>
                    <div id="protein-section" class="plate-section">
                        <h3>Proteína Saludable</h3>
                        <ul id="protein-list"></ul>
                    </div>
                </div>
            </div>
            <div class="w-full max-w-xl mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4 side-section-container">
                <div id="oils-section" class="side-section bg-teal-100 border-teal-300">
                    <h3 class="text-teal-800">Aceites Saludables</h3>
                    <ul id="oils-list"></ul>
                </div>
                <div id="drinks-section" class="side-section bg-blue-100 border-blue-300">
                    <h3 class="text-blue-800">Bebidas</h3>
                    <ul id="drinks-list"></ul>
                </div>
            </div>

            <div id="analysis-results" class="w-full max-w-xl mt-4 bg-white p-4 md:p-6 rounded-lg shadow-md">
                <h3 class="text-xl font-bold mb-4 text-gray-700 text-center">Análisis del Plato</h3>
                <p class="text-gray-500 italic text-center">Selecciona alimentos, define tu contexto y haz clic en "Analizar Plato" para ver los resultados.</p>
            </div>
        </div>
    </div>
</div>
    <div id="notification"></div>
<footer style="background-color: #e9ecef; text-align: center; padding: 25px 20px; color: #6c757d; border-top: 1px solid #dee2e6; font-size: 0.9em;">
    <p>&copy; 2025 NutriPlan</p>
    <p><small>Esta herramienta proporciona estimaciones y sugerencias orientativas. No sustituye el consejo de un profesional de la salud o dietista-nutricionista. Consulta siempre a un experto.</small></p>
</footer>
    <script>
        // --- DATA per 100gr ---
        // (Se omite por brevedad, es la misma que en el archivo original)
        const foodData = {
  vegetables: {
    'Acelga': {
      kcal: 20, protein: 1.8, fat: 0.2, carbs: 2.1, fiber: 1.6,
      vitamins: [
        { name: 'Vitamina A', amount: 611, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 30, unit: 'mg' },
        // (ejemplo adicional: Vitamina K: 830 µg)
      ],
      minerals: [
        { name: 'Calcio', amount: 51, unit: 'mg' },
        { name: 'Hierro', amount: 1.8, unit: 'mg' }
      ]
    },
    'Achicoria': {
      kcal: 17, protein: 1, fat: 0.3, carbs: 3.4, fiber: 1.5,
      vitamins: [
        { name: 'Vitamina A', amount: 300, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 10, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 40, unit: 'mg' },
        { name: 'Hierro', amount: 1.0, unit: 'mg' }
      ]
    },
    'Ajo': {
      kcal: 149, protein: 6.4, fat: 0.5, carbs: 33, fiber: 2.1,
      vitamins: [
        { name: 'Vitamina C', amount: 31, unit: 'mg' },
        { name: 'Vitamina B6', amount: 1.2, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 181, unit: 'mg' },
        { name: 'Hierro', amount: 1.7, unit: 'mg' }
      ]
    },
    'Alcaparras': {
      kcal: 23, protein: 2.4, fat: 0.9, carbs: 4, fiber: 2.9,
      vitamins: [
        { name: 'Vitamina K', amount: 23, unit: 'µg' },
        { name: 'Vitamina C', amount: 7, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 190, unit: 'mg' },
        { name: 'Hierro', amount: 2.3, unit: 'mg' }
      ]
    },
    'Alfalfa (brotes)': {
      kcal: 23, protein: 4, fat: 0.7, carbs: 1.9, fiber: 1.9,
      vitamins: [
        { name: 'Vitamina K', amount: 30, unit: 'µg' },
        { name: 'Vitamina C', amount: 8, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 32, unit: 'mg' },
        { name: 'Hierro', amount: 1.6, unit: 'mg' }
      ]
    },
    'Algas (genérico)': {
      kcal: 45, protein: 1.7, fat: 0.5, carbs: 9, fiber: 1.5,
      vitamins: [
        { name: 'Vitamina A', amount: 100, unit: 'µg' },
        { name: 'Vitamina C', amount: 3, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 150, unit: 'mg' },
        { name: 'Hierro', amount: 2, unit: 'mg' }
      ]
    },
    'Apio': {
      kcal: 16, protein: 0.7, fat: 0.2, carbs: 3, fiber: 1.6,
      vitamins: [
        { name: 'Vitamina C', amount: 3, unit: 'mg' },
        { name: 'Vitamina K', amount: 29, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 40, unit: 'mg' },
        { name: 'Potasio', amount: 260, unit: 'mg' }
      ]
    },
    'Apionabo': {
      kcal: 42, protein: 1.5, fat: 0.3, carbs: 9, fiber: 1.8,
      vitamins: [
        { name: 'Vitamina C', amount: 10, unit: 'mg' },
        { name: 'Vitamina K', amount: 20, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 50, unit: 'mg' },
        { name: 'Hierro', amount: 1.5, unit: 'mg' }
      ]
    },
    'Alcachofas': {
      kcal: 47, protein: 3.3, fat: 0.2, carbs: 10.5, fiber: 5.4,
      vitamins: [
        { name: 'Vitamina C', amount: 11, unit: 'mg' },
        { name: 'Vitamina K', amount: 14, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 44, unit: 'mg' },
        { name: 'Hierro', amount: 1.3, unit: 'mg' }
      ]
    },
    'Arvejas (Guisantes)': {
      kcal: 81, protein: 5.4, fat: 0.4, carbs: 14, fiber: 5.5,
      vitamins: [
        { name: 'Vitamina C', amount: 40, unit: 'mg' },
        { name: 'Vitamina K', amount: 24, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 25, unit: 'mg' },
        { name: 'Hierro', amount: 1.5, unit: 'mg' }
      ]
    },
    'Bambú (brotes)': {
      kcal: 27, protein: 2.6, fat: 0.3, carbs: 5.2, fiber: 2.2,
      vitamins: [
        { name: 'Vitamina A', amount: 120, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 12, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 40, unit: 'mg' },
        { name: 'Hierro', amount: 0.8, unit: 'mg' }
      ]
    },
    'Batata (Boniato)': {
      kcal: 86, protein: 1.6, fat: 0.1, carbs: 20, fiber: 3,
      vitamins: [
        { name: 'Vitamina A', amount: 709, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 20, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 38, unit: 'mg' },
        { name: 'Hierro', amount: 0.7, unit: 'mg' }
      ]
    },
    'Berenjena': {
      kcal: 25, protein: 1, fat: 0.2, carbs: 6, fiber: 3,
      vitamins: [
        { name: 'Vitamina C', amount: 2.2, unit: 'mg' },
        { name: 'Vitamina K', amount: 3.5, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 9, unit: 'mg' },
        { name: 'Hierro', amount: 0.2, unit: 'mg' }
      ]
    },
    'Berro': {
      kcal: 11, protein: 2.3, fat: 0.1, carbs: 1.3, fiber: 0.5,
      vitamins: [
        { name: 'Vitamina A', amount: 463, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 43, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 120, unit: 'mg' },
        { name: 'Hierro', amount: 1.3, unit: 'mg' }
      ]
    },
    'Borraja': {
      kcal: 20, protein: 1.5, fat: 0.2, carbs: 3, fiber: 2,
      vitamins: [
        { name: 'Vitamina C', amount: 25, unit: 'mg' },
        { name: 'Vitamina A', amount: 150, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 55, unit: 'mg' },
        { name: 'Hierro', amount: 1.5, unit: 'mg' }
      ]
    },
    'Brócoli': {
      kcal: 34, protein: 2.8, fat: 0.4, carbs: 7, fiber: 2.6,
      vitamins: [
        { name: 'Vitamina C', amount: 89, unit: 'mg' },
        { name: 'Vitamina K', amount: 101, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 47, unit: 'mg' },
        { name: 'Hierro', amount: 0.7, unit: 'mg' }
      ]
    },
    'Calabacín': {
      kcal: 17, protein: 1.2, fat: 0.3, carbs: 3.1, fiber: 1,
      vitamins: [
        { name: 'Vitamina C', amount: 17, unit: 'mg' },
        { name: 'Vitamina A', amount: 100, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 16, unit: 'mg' },
        { name: 'Hierro', amount: 0.4, unit: 'mg' }
      ]
    },
    'Calabaza': {
      kcal: 26, protein: 1, fat: 0.1, carbs: 6.5, fiber: 0.5,
      vitamins: [
        { name: 'Vitamina A', amount: 426, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 9, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 37, unit: 'mg' },
        { name: 'Hierro', amount: 0.8, unit: 'mg' }
      ]
    },
    'Canónigos': {
      kcal: 25, protein: 2.5, fat: 0.2, carbs: 3.5, fiber: 1.5,
      vitamins: [
        { name: 'Vitamina A', amount: 400, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 18, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 37, unit: 'mg' },
        { name: 'Hierro', amount: 1.1, unit: 'mg' }
      ]
    },
    'Cardo': {
      kcal: 17, protein: 1.2, fat: 0.2, carbs: 3.5, fiber: 1.5,
      vitamins: [
        { name: 'Vitamina C', amount: 6, unit: 'mg' },
        { name: 'Vitamina K', amount: 25, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 39, unit: 'mg' },
        { name: 'Hierro', amount: 1.0, unit: 'mg' }
      ]
    },
    'Cardo mariano': {
      kcal: 25, protein: 1, fat: 0.2, carbs: 4, fiber: 2,
      vitamins: [
        { name: 'Vitamina C', amount: 5, unit: 'mg' },
        { name: 'Vitamina K', amount: 20, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 35, unit: 'mg' },
        { name: 'Hierro', amount: 0.9, unit: 'mg' }
      ]
    },
    'Cebolla': {
      kcal: 40, protein: 1.1, fat: 0.1, carbs: 9, fiber: 1.7,
      vitamins: [
        { name: 'Vitamina C', amount: 7, unit: 'mg' },
        { name: 'Vitamina B6', amount: 0.12, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 23, unit: 'mg' },
        { name: 'Hierro', amount: 0.2, unit: 'mg' }
      ]
    },
    'Champiñones': {
      kcal: 22, protein: 3.1, fat: 0.3, carbs: 3.3, fiber: 1,
      vitamins: [
        { name: 'Vitamina D', amount: 0.2, unit: 'µg' },
        { name: 'Vitamina B2', amount: 0.5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 3, unit: 'mg' },
        { name: 'Hierro', amount: 0.5, unit: 'mg' }
      ]
    },
    'Champiñones silvestres': {
      kcal: 22, protein: 3, fat: 0.3, carbs: 3, fiber: 1,
      vitamins: [
        { name: 'Vitamina D', amount: 0.2, unit: 'µg' },
        { name: 'Vitamina B2', amount: 0.5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 3, unit: 'mg' },
        { name: 'Hierro', amount: 0.5, unit: 'mg' }
      ]
    },
    'Chirivía': {
      kcal: 75, protein: 1.2, fat: 0.3, carbs: 18, fiber: 4.9,
      vitamins: [
        { name: 'Vitamina C', amount: 9, unit: 'mg' },
        { name: 'Vitamina B6', amount: 0.16, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 30, unit: 'mg' },
        { name: 'Hierro', amount: 0.7, unit: 'mg' }
      ]
    },
    'Colinabo': {
      kcal: 27, protein: 1.7, fat: 0.1, carbs: 6, fiber: 3.6,
      vitamins: [
        { name: 'Vitamina C', amount: 45, unit: 'mg' },
        { name: 'Vitamina K', amount: 40, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 58, unit: 'mg' },
        { name: 'Hierro', amount: 0.9, unit: 'mg' }
      ]
    },
    'Col china': {
      kcal: 12, protein: 1.2, fat: 0.2, carbs: 2.2, fiber: 1,
      vitamins: [
        { name: 'Vitamina C', amount: 18, unit: 'mg' },
        { name: 'Vitamina A', amount: 60, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 30, unit: 'mg' },
        { name: 'Hierro', amount: 0.5, unit: 'mg' }
      ]
    },
    'Coles': {
      kcal: 25, protein: 1.3, fat: 0.1, carbs: 5.8, fiber: 2.5,
      vitamins: [
        { name: 'Vitamina C', amount: 36, unit: 'mg' },
        { name: 'Vitamina K', amount: 76, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 40, unit: 'mg' },
        { name: 'Hierro', amount: 0.5, unit: 'mg' }
      ]
    },
    'Coles de bruselas': {
      kcal: 43, protein: 3.4, fat: 0.3, carbs: 8, fiber: 3.8,
      vitamins: [
        { name: 'Vitamina C', amount: 85, unit: 'mg' },
        { name: 'Vitamina K', amount: 177, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 42, unit: 'mg' },
        { name: 'Hierro', amount: 1.4, unit: 'mg' }
      ]
    },
    'Coliflor': {
      kcal: 25, protein: 1.9, fat: 0.3, carbs: 5, fiber: 2,
      vitamins: [
        { name: 'Vitamina C', amount: 46, unit: 'mg' },
        { name: 'Vitamina K', amount: 15, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 22, unit: 'mg' },
        { name: 'Hierro', amount: 0.4, unit: 'mg' }
      ]
    },
    'Cúrcuma': {
      kcal: 354, protein: 7.8, fat: 9.9, carbs: 64, fiber: 21.1,
      vitamins: [
        { name: 'Vitamina C', amount: 0, unit: 'mg' },
        { name: 'Vitamina E', amount: 1.2, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 168, unit: 'mg' },
        { name: 'Hierro', amount: 55, unit: 'mg' }
      ]
    },
    'Diente de león': {
      kcal: 45, protein: 2.7, fat: 0.2, carbs: 7.5, fiber: 3,
      vitamins: [
        { name: 'Vitamina A', amount: 420, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 35, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 187, unit: 'mg' },
        { name: 'Hierro', amount: 3, unit: 'mg' }
      ]
    },
    'Endivia': {
      kcal: 17, protein: 1.2, fat: 0.2, carbs: 3.4, fiber: 3.1,
      vitamins: [
        { name: 'Vitamina C', amount: 8, unit: 'mg' },
        { name: 'Vitamina K', amount: 170, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 19, unit: 'mg' },
        { name: 'Hierro', amount: 1, unit: 'mg' }
      ]
    },
    'Eneldo': {
      kcal: 43, protein: 3.5, fat: 1.1, carbs: 7, fiber: 2.1,
      vitamins: [
        { name: 'Vitamina C', amount: 26, unit: 'mg' },
        { name: 'Vitamina A', amount: 200, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 99, unit: 'mg' },
        { name: 'Hierro', amount: 3.5, unit: 'mg' }
      ]
    },
    'Escarola': {
      kcal: 17, protein: 1.2, fat: 0.3, carbs: 3.4, fiber: 1.6,
      vitamins: [
        { name: 'Vitamina A', amount: 280, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 8, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 52, unit: 'mg' },
        { name: 'Hierro', amount: 1.2, unit: 'mg' }
      ]
    },
    'Espárragos': {
      kcal: 20, protein: 2.2, fat: 0.2, carbs: 3.9, fiber: 2.1,
      vitamins: [
        { name: 'Vitamina A', amount: 38, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 24, unit: 'mg' },
        { name: 'Hierro', amount: 2.1, unit: 'mg' }
      ]
    },
    'Espinaca': {
      kcal: 23, protein: 2.9, fat: 0.4, carbs: 3.6, fiber: 2.2,
      vitamins: [
        { name: 'Vitamina A', amount: 469, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 28, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 99, unit: 'mg' },
        { name: 'Hierro', amount: 2.7, unit: 'mg' }
      ]
    },
    'Galanga': {
      kcal: 80, protein: 1.9, fat: 0.5, carbs: 17, fiber: 2,
      vitamins: [
        { name: 'Vitamina C', amount: 20, unit: 'mg' },
        { name: 'Vitamina A', amount: 150, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 16, unit: 'mg' },
        { name: 'Hierro', amount: 0.6, unit: 'mg' }
      ]
    },
    'Grelos': {
      kcal: 28, protein: 2.5, fat: 0.3, carbs: null, fiber: 2.2,
      vitamins: [
        { name: 'Vitamina C', amount: 42, unit: 'mg' },
        { name: 'Vitamina K', amount: 200, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 80, unit: 'mg' },
        { name: 'Hierro', amount: 1, unit: 'mg' }
      ]
    },
    'Habas': {
      kcal: 110, protein: 7.6, fat: 0.7, carbs: 19, fiber: 5.4,
      vitamins: [
        { name: 'Vitamina C', amount: 6, unit: 'mg' },
        { name: 'Vitamina B9', amount: 148, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 60, unit: 'mg' },
        { name: 'Hierro', amount: 2.5, unit: 'mg' }
      ]
    },
    'Hinojo': {
      kcal: 31, protein: 1.2, fat: 0.2, carbs: 7, fiber: 3.1,
      vitamins: [
        { name: 'Vitamina C', amount: 12, unit: 'mg' },
        { name: 'Vitamina A', amount: 25, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 49, unit: 'mg' },
        { name: 'Hierro', amount: 0.7, unit: 'mg' }
      ]
    },
    'Hisopo': {
      kcal: 101, protein: 3.5, fat: 0.6, carbs: 10, fiber: 1.8,
      vitamins: [
        { name: 'Vitamina C', amount: 15, unit: 'mg' },
        { name: 'Vitamina A', amount: 30, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 40, unit: 'mg' },
        { name: 'Hierro', amount: 0.8, unit: 'mg' }
      ]
    },
    'Hojas de mostaza': {
      kcal: 27, protein: 2, fat: 0.3, carbs: 3.5, fiber: 1.5,
      vitamins: [
        { name: 'Vitamina A', amount: 1450, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 70, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 119, unit: 'mg' },
        { name: 'Hierro', amount: 1.2, unit: 'mg' }
      ]
    },
    'Hongos (Setas)': {
      kcal: 22, protein: 3.1, fat: 0.3, carbs: 3.3, fiber: 1,
      vitamins: [
        { name: 'Vitamina D', amount: 0.2, unit: 'µg' },
        { name: 'Vitamina B2', amount: 0.5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 3, unit: 'mg' },
        { name: 'Hierro', amount: 0.5, unit: 'mg' }
      ]
    },
    'Jengibre': {
      kcal: 80, protein: 1.8, fat: 0.8, carbs: 17.8, fiber: 2,
      vitamins: [
        { name: 'Vitamina B6', amount: 0.16, unit: 'mg' },
        { name: 'Vitamina C', amount: 5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 16, unit: 'mg' },
        { name: 'Hierro', amount: 0.6, unit: 'mg' }
      ]
    },
    'Jícama': {
      kcal: 38, protein: 0.7, fat: 0.1, carbs: 8.8, fiber: 4.9,
      vitamins: [
        { name: 'Vitamina C', amount: 20, unit: 'mg' },
        { name: 'Vitamina B6', amount: 0.2, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 33, unit: 'mg' },
        { name: 'Hierro', amount: 0.5, unit: 'mg' }
      ]
    },
    'Judías verdes': {
      kcal: 31, protein: 1.8, fat: 0.1, carbs: 7, fiber: 3.4,
      vitamins: [
        { name: 'Vitamina C', amount: 12, unit: 'mg' },
        { name: 'Vitamina A', amount: 35, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 37, unit: 'mg' },
        { name: 'Hierro', amount: 1, unit: 'mg' }
      ]
    },
    'Lechuga': {
      kcal: 15, protein: 1.4, fat: 0.2, carbs: 2.9, fiber: 1.3,
      vitamins: [
        { name: 'Vitamina A', amount: 740, unit: 'IU' },
        { name: 'Vitamina K', amount: 62, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 6, unit: 'mg' },
        { name: 'Hierro', amount: 0.9, unit: 'mg' }
      ]
    },
    'Maíz': {
      kcal: 86, protein: 3.2, fat: 1.2, carbs: 19, fiber: 2.7,
      vitamins: [
        { name: 'Vitamina C', amount: 5, unit: 'mg' },
        { name: 'Vitamina B1', amount: 0.1, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 2, unit: 'mg' },
        { name: 'Hierro', amount: 0.5, unit: 'mg' }
      ]
    },
    'Malanga': {
      kcal: 119, protein: 1.3, fat: 0.1, carbs: 28, fiber: 4.5,
      vitamins: [
        { name: 'Vitamina C', amount: 11, unit: 'mg' },
        { name: 'Vitamina A', amount: 60, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 34, unit: 'mg' },
        { name: 'Hierro', amount: 1.1, unit: 'mg' }
      ]
    },
    'Mandioca': {
      kcal: 160, protein: 1.4, fat: 0.3, carbs: 38, fiber: 1.8,
      vitamins: [
        { name: 'Vitamina C', amount: 20, unit: 'mg' },
        { name: 'Vitamina B6', amount: 0.3, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 16, unit: 'mg' },
        { name: 'Hierro', amount: 0.5, unit: 'mg' }
      ]
    },
    'Mejorana': {
      kcal: 265, protein: 9, fat: 4.3, carbs: 42, fiber: 69,
      vitamins: [
        { name: 'Vitamina A', amount: 800, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 20, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 250, unit: 'mg' },
        { name: 'Hierro', amount: 5, unit: 'mg' }
      ]
    },
    'Menta': {
      kcal: 70, protein: 3, fat: 0.2, carbs: 14, fiber: 8,
      vitamins: [
        { name: 'Vitamina A', amount: 450, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 31, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 150, unit: 'mg' },
        { name: 'Hierro', amount: 2, unit: 'mg' }
      ]
    },
    'Nabos': {
      kcal: 28, protein: 1, fat: 0.1, carbs: 6.2, fiber: 1.8,
      vitamins: [
        { name: 'Vitamina C', amount: 21, unit: 'mg' },
        { name: 'Vitamina B6', amount: 0.2, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 43, unit: 'mg' },
        { name: 'Hierro', amount: 0.3, unit: 'mg' }
      ]
    },
    'Nabo sueco': {
      kcal: 37, protein: 1.2, fat: 0.1, carbs: 8.6, fiber: 3,
      vitamins: [
        { name: 'Vitamina C', amount: 22, unit: 'mg' },
        { name: 'Vitamina B6', amount: 0.2, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 35, unit: 'mg' },
        { name: 'Hierro', amount: 0.5, unit: 'mg' }
      ]
    },
    'Ñame': {
      kcal: 118, protein: 1.5, fat: 0.2, carbs: 27, fiber: 4.1,
      vitamins: [
        { name: 'Vitamina C', amount: 17, unit: 'mg' },
        { name: 'Vitamina A', amount: 50, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 25, unit: 'mg' },
        { name: 'Hierro', amount: 0.7, unit: 'mg' }
      ]
    },
    'Okra': {
      kcal: 33, protein: 1.9, fat: 0.2, carbs: 7.5, fiber: 3.2,
      vitamins: [
        { name: 'Vitamina C', amount: 21, unit: 'mg' },
        { name: 'Vitamina K', amount: 53, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 77, unit: 'mg' },
        { name: 'Hierro', amount: 0.6, unit: 'mg' }
      ]
    },
    'Orégano': {
      kcal: 40, protein: 2, fat: 0.5, carbs: 6, fiber: 3,
      vitamins: [
        { name: 'Vitamina C', amount: 7, unit: 'mg' },
        { name: 'Vitamina A', amount: 150, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 405, unit: 'mg' },
        { name: 'Hierro', amount: 6, unit: 'mg' }
      ]
    },
    'Ortiga': {
      kcal: 42, protein: 2.7, fat: 0.1, carbs: 6.9, fiber: 0.7,
      vitamins: [
        { name: 'Vitamina A', amount: 100, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 33, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 482, unit: 'mg' },
        { name: 'Hierro', amount: 1.5, unit: 'mg' }
      ]
    },
    'Pak choi': {
      kcal: 13, protein: 1.5, fat: 0.2, carbs: 2.2, fiber: 1,
      vitamins: [
        { name: 'Vitamina A', amount: 200, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 45, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 105, unit: 'mg' },
        { name: 'Hierro', amount: 0.8, unit: 'mg' }
      ]
    },
    'Palmito': {
      kcal: 36, protein: 2, fat: 0.4, carbs: 5.2, fiber: 1.8,
      vitamins: [
        { name: 'Vitamina C', amount: 3, unit: 'mg' },
        { name: 'Vitamina A', amount: 30, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 25, unit: 'mg' },
        { name: 'Hierro', amount: 0.7, unit: 'mg' }
      ]
    },
    'Pepino': {
      kcal: 16, protein: 0.7, fat: 0.1, carbs: 3.6, fiber: 0.5,
      vitamins: [
        { name: 'Vitamina K', amount: 16, unit: 'µg' },
        { name: 'Vitamina C', amount: 2.8, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 16, unit: 'mg' },
        { name: 'Hierro', amount: 0.3, unit: 'mg' }
      ]
    },
    'Perifollo': {
      kcal: 33, protein: 2, fat: 0.3, carbs: 5, fiber: 2,
      vitamins: [
        { name: 'Vitamina C', amount: 15, unit: 'mg' },
        { name: 'Vitamina A', amount: 200, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 35, unit: 'mg' },
        { name: 'Hierro', amount: 1.0, unit: 'mg' }
      ]
    },
    'Perejil': {
      kcal: 36, protein: 3, fat: 0.8, carbs: 6.3, fiber: 3.3,
      vitamins: [
        { name: 'Vitamina C', amount: 133, unit: 'mg' },
        { name: 'Vitamina K', amount: 1640, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 138, unit: 'mg' },
        { name: 'Hierro', amount: 3.7, unit: 'mg' }
      ]
    },
    'Pimientos': {
      kcal: 31, protein: 1, fat: 0.3, carbs: 6, fiber: 2.1,
      vitamins: [
        { name: 'Vitamina C', amount: 80, unit: 'mg' },
        { name: 'Vitamina A', amount: 313, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 10, unit: 'mg' },
        { name: 'Hierro', amount: 0.4, unit: 'mg' }
      ]
    },
    'Puerro': {
      kcal: 61, protein: 1.5, fat: 0.3, carbs: 14, fiber: 1.8,
      vitamins: [
        { name: 'Vitamina C', amount: 12, unit: 'mg' },
        { name: 'Vitamina A', amount: 100, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 59, unit: 'mg' },
        { name: 'Hierro', amount: 1.3, unit: 'mg' }
      ]
    },
    'Rábano': {
      kcal: 16, protein: 0.7, fat: 0.1, carbs: 3.4, fiber: 1.6,
      vitamins: [
        { name: 'Vitamina C', amount: 18, unit: 'mg' },
        { name: 'Vitamina K', amount: 1.4, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 25, unit: 'mg' },
        { name: 'Hierro', amount: 0.3, unit: 'mg' }
      ]
    },
    'Rábano daikon': {
      kcal: 16, protein: 0.7, fat: 0.1, carbs: 3.4, fiber: 1.6,
      vitamins: [
        { name: 'Vitamina C', amount: 18, unit: 'mg' },
        { name: 'Vitamina K', amount: 1.4, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 25, unit: 'mg' },
        { name: 'Hierro', amount: 0.3, unit: 'mg' }
      ]
    },
    'Rábano picante': {
      kcal: 48, protein: 1.2, fat: 0.1, carbs: 11, fiber: 1.6,
      vitamins: [
        { name: 'Vitamina C', amount: 15, unit: 'mg' },
        { name: 'Vitamina A', amount: 100, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 30, unit: 'mg' },
        { name: 'Hierro', amount: 0.4, unit: 'mg' }
      ]
    },
    'Radicchio': {
      kcal: 23, protein: 1, fat: 0.2, carbs: 4, fiber: 1.5,
      vitamins: [
        { name: 'Vitamina K', amount: 250, unit: 'µg' },
        { name: 'Vitamina C', amount: 8, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 55, unit: 'mg' },
        { name: 'Hierro', amount: 0.9, unit: 'mg' }
      ]
    },
    'Remolacha': {
      kcal: 43, protein: 1.6, fat: 0.2, carbs: 9.6, fiber: 2.8,
      vitamins: [
        { name: 'Vitamina C', amount: 4, unit: 'mg' },
        { name: 'Vitamina A', amount: 33, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 16, unit: 'mg' },
        { name: 'Hierro', amount: 0.8, unit: 'mg' }
      ]
    },
    'Romaine': {
      kcal: 17, protein: 1.2, fat: 0.3, carbs: 3.3, fiber: 2.1,
      vitamins: [
        { name: 'Vitamina A', amount: 436, unit: 'µg RE' },
        { name: 'Vitamina K', amount: 102, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 33, unit: 'mg' },
        { name: 'Hierro', amount: 0.97, unit: 'mg' }
      ]
    },
    'Romero': {
      kcal: 40, protein: 1.5, fat: 0.3, carbs: 5, fiber: 2,
      vitamins: [
        { name: 'Vitamina C', amount: 8, unit: 'mg' },
        { name: 'Vitamina A', amount: 60, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 57, unit: 'mg' },
        { name: 'Hierro', amount: 1, unit: 'mg' }
      ]
    },
    'Rúcula': {
      kcal: 25, protein: 2.6, fat: 0.7, carbs: 3.7, fiber: 1.6,
      vitamins: [
        { name: 'Vitamina A', amount: 237, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 15, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 160, unit: 'mg' },
        { name: 'Hierro', amount: 1.5, unit: 'mg' }
      ]
    },
    'Ruibarbo': {
      kcal: 21, protein: 0.9, fat: 0.2, carbs: 4.5, fiber: 1.8,
      vitamins: [
        { name: 'Vitamina C', amount: 8, unit: 'mg' },
        { name: 'Vitamina K', amount: 86, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 86, unit: 'mg' },
        { name: 'Hierro', amount: 0.4, unit: 'mg' }
      ]
    },
    'Salvia': {
      kcal: 40, protein: 2, fat: 0.3, carbs: 5, fiber: 2,
      vitamins: [
        { name: 'Vitamina C', amount: 26, unit: 'mg' },
        { name: 'Vitamina A', amount: 250, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 165, unit: 'mg' },
        { name: 'Hierro', amount: 1.6, unit: 'mg' }
      ]
    },
    'Tomates': {
      kcal: 18, protein: 0.9, fat: 0.2, carbs: 3.9, fiber: 1.2,
      vitamins: [
        { name: 'Vitamina C', amount: 14, unit: 'mg' },
        { name: 'Vitamina A', amount: 42, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 10, unit: 'mg' },
        { name: 'Hierro', amount: 0.5, unit: 'mg' }
      ]
    },
    'Tomillo': {
      kcal: 40, protein: 2, fat: 0.3, carbs: 5, fiber: 2,
      vitamins: [
        { name: 'Vitamina C', amount: 15, unit: 'mg' },
        { name: 'Vitamina A', amount: 80, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 100, unit: 'mg' },
        { name: 'Hierro', amount: 3, unit: 'mg' }
      ]
    },
    'Trébol': {
      kcal: 35, protein: 2, fat: 0.2, carbs: 4, fiber: 1.5,
      vitamins: [
        { name: 'Vitamina C', amount: 30, unit: 'mg' },
        { name: 'Vitamina K', amount: 55, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 40, unit: 'mg' },
        { name: 'Hierro', amount: 0.6, unit: 'mg' }
      ]
    },
    'Wakame': {
      kcal: 45, protein: 1, fat: 0.5, carbs: 9, fiber: 1.5,
      vitamins: [
        { name: 'Vitamina A', amount: 210, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 10, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 150, unit: 'mg' },
        { name: 'Hierro', amount: 1.5, unit: 'mg' }
      ]
    },
    'Zanahoria': {
      kcal: 41, protein: 0.9, fat: 0.2, carbs: 9.6, fiber: 2.8,
      vitamins: [
        { name: 'Vitamina A', amount: 835, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 33, unit: 'mg' },
        { name: 'Hierro', amount: 0.3, unit: 'mg' }
      ]
    },
    'Castañas': {
      kcal: 131, protein: 1.7, fat: 1.4, carbs: 28, fiber: 5,
      vitamins: [
        { name: 'Vitamina C', amount: 40, unit: 'mg' },
        { name: 'Vitamina B6', amount: 0.5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 30, unit: 'mg' },
        { name: 'Hierro', amount: 1.0, unit: 'mg' }
      ]
    }
  },
  fruits: {
    'Manzanas': {
      kcal: 52, protein: 0.3, fat: 0.2, carbs: 13.8, fiber: 2.4,
      vitamins: [
        { name: 'Vitamina C', amount: 4.6, unit: 'mg' },
        { name: 'Vitamina K', amount: 2.2, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 6, unit: 'mg' },
        { name: 'Hierro', amount: 0.12, unit: 'mg' }
      ]
    },
    'Plátanos': {
      kcal: 89, protein: 1.1, fat: 0.3, carbs: 22.8, fiber: 2.6,
      vitamins: [
        { name: 'Vitamina B6', amount: 0.4, unit: 'mg' },
        { name: 'Vitamina C', amount: 8.7, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 5, unit: 'mg' },
        { name: 'Hierro', amount: 0.26, unit: 'mg' }
      ]
    },
    'Naranjas': {
      kcal: 47, protein: 0.9, fat: 0.1, carbs: 11.8, fiber: 2.4,
      vitamins: [
        { name: 'Vitamina C', amount: 53.2, unit: 'mg' },
        { name: 'Vitamina A', amount: 225, unit: 'IU' }
      ],
      minerals: [
        { name: 'Calcio', amount: 40, unit: 'mg' },
        { name: 'Hierro', amount: 0.1, unit: 'mg' }
      ]
    },
    'Fresas': {
      kcal: 32, protein: 0.7, fat: 0.3, carbs: 7.7, fiber: 2,
      vitamins: [
        { name: 'Vitamina C', amount: 58.8, unit: 'mg' },
        { name: 'Vitamina K', amount: 2.2, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 16, unit: 'mg' },
        { name: 'Hierro', amount: 0.4, unit: 'mg' }
      ]
    },
    'Arándanos': {
      kcal: 57, protein: 0.7, fat: 0.3, carbs: 14.5, fiber: 2.4,
      vitamins: [
        { name: 'Vitamina C', amount: 9.7, unit: 'mg' },
        { name: 'Vitamina K', amount: 19.3, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 6, unit: 'mg' },
        { name: 'Hierro', amount: 0.4, unit: 'mg' }
      ]
    },
    'Uvas': {
      kcal: 69, protein: 0.7, fat: 0.2, carbs: 18.1, fiber: 0.9,
      vitamins: [
        { name: 'Vitamina C', amount: 10.8, unit: 'mg' },
        { name: 'Vitamina K', amount: 14.6, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 10, unit: 'mg' },
        { name: 'Hierro', amount: 0.36, unit: 'mg' }
      ]
    },
    'Peras': {
      kcal: 57, protein: 0.4, fat: 0.1, carbs: 15.2, fiber: 3.1,
      vitamins: [
        { name: 'Vitamina C', amount: 4.3, unit: 'mg' },
        { name: 'Vitamina K', amount: 4.5, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 9, unit: 'mg' },
        { name: 'Hierro', amount: 0.2, unit: 'mg' }
      ]
    },
    'Melocotones': {
      kcal: 39, protein: 0.9, fat: 0.3, carbs: 9.5, fiber: 1.5,
      vitamins: [
        { name: 'Vitamina C', amount: 10, unit: 'mg' },
        { name: 'Vitamina A', amount: 326, unit: 'IU' }
      ],
      minerals: [
        { name: 'Calcio', amount: 6, unit: 'mg' },
        { name: 'Hierro', amount: 0.3, unit: 'mg' }
      ]
    },
    'Kiwi': {
      kcal: 61, protein: 1.1, fat: 0.5, carbs: 14.7, fiber: 3,
      vitamins: [
        { name: 'Vitamina C', amount: 92.7, unit: 'mg' },
        { name: 'Vitamina E', amount: 1.5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 34, unit: 'mg' },
        { name: 'Hierro', amount: 0.3, unit: 'mg' }
      ]
    },
    'Mango': {
      kcal: 60, protein: 0.8, fat: 0.1, carbs: 15, fiber: 1.6,
      vitamins: [
        { name: 'Vitamina A', amount: 54, unit: 'µg RE' },
        { name: 'Vitamina C', amount: 36.4, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 11, unit: 'mg' },
        { name: 'Hierro', amount: 0.16, unit: 'mg' }
      ]
    },
    'Piña': {
      kcal: 50, protein: 0.4, fat: 0.5, carbs: 13.1, fiber: 1.4,
      vitamins: [
        { name: 'Vitamina C', amount: 47.8, unit: 'mg' },
        { name: 'Vitamina B6', amount: 0.1, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 13, unit: 'mg' },
        { name: 'Hierro', amount: 0.3, unit: 'mg' }
      ]
    },
    'Sandía': {
      kcal: 30, protein: 0.6, fat: 0.2, carbs: 7.6, fiber: 0.4,
      vitamins: [
        { name: 'Vitamina C', amount: 8.1, unit: 'mg' },
        { name: 'Vitamina A', amount: 28, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 7, unit: 'mg' },
        { name: 'Hierro', amount: 0.24, unit: 'mg' }
      ]
    },
    'Melón': {
      kcal: 34, protein: 0.8, fat: 0.2, carbs: 8.2, fiber: 0.9,
      vitamins: [
        { name: 'Vitamina C', amount: 36.7, unit: 'mg' },
        { name: 'Vitamina A', amount: 169, unit: 'IU' }
      ],
      minerals: [
        { name: 'Calcio', amount: 10, unit: 'mg' },
        { name: 'Hierro', amount: 0.28, unit: 'mg' }
      ]
    },
    'Frambuesas': {
      kcal: 52, protein: 1.2, fat: 0.7, carbs: 11.9, fiber: 6.5,
      vitamins: [
        { name: 'Vitamina C', amount: 26.2, unit: 'mg' },
        { name: 'Vitamina K', amount: 7.8, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 25, unit: 'mg' },
        { name: 'Hierro', amount: 0.7, unit: 'mg' }
      ]
    },
    'Moras': {
      kcal: 43, protein: 1.4, fat: 0.5, carbs: 9.6, fiber: 5.3,
      vitamins: [
        { name: 'Vitamina C', amount: 21, unit: 'mg' },
        { name: 'Vitamina K', amount: 19, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 29, unit: 'mg' },
        { name: 'Hierro', amount: 1.1, unit: 'mg' }
      ]
    },
    'Cerezas': {
      kcal: 50, protein: 1, fat: 0.3, carbs: 12, fiber: 1.6,
      vitamins: [
        { name: 'Vitamina C', amount: 7, unit: 'mg' },
        { name: 'Vitamina A', amount: 64, unit: 'µg RE' }
      ],
      minerals: [
        { name: 'Calcio', amount: 15, unit: 'mg' },
        { name: 'Hierro', amount: 0.4, unit: 'mg' }
      ]
    },
    'Mandarinas': {
      kcal: 53, protein: 0.8, fat: 0.3, carbs: 13.3, fiber: 1.8,
      vitamins: [
        { name: 'Vitamina C', amount: 26.7, unit: 'mg' },
        { name: 'Vitamina A', amount: 681, unit: 'IU' }
      ],
      minerals: [
        { name: 'Calcio', amount: 37, unit: 'mg' },
        { name: 'Hierro', amount: 0.2, unit: 'mg' }
      ]
    },
    'Limones': {
      kcal: 29, protein: 1.1, fat: 0.3, carbs: 9.3, fiber: 2.8,
      vitamins: [
        { name: 'Vitamina C', amount: 53, unit: 'mg' },
        { name: 'Vitamina B6', amount: 0.08, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 26, unit: 'mg' },
        { name: 'Hierro', amount: 0.6, unit: 'mg' }
      ]
    },
    'Higos': {
      kcal: 74, protein: 0.8, fat: 0.9, carbs: 19.2, fiber: 2.9,
      vitamins: [
        { name: 'Vitamina K', amount: 15, unit: 'µg' },
        { name: 'Vitamina B6', amount: 0.11, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 35, unit: 'mg' },
        { name: 'Hierro', amount: 0.4, unit: 'mg' }
      ]
    },
    'Granada': {
      kcal: 83, protein: 1.7, fat: 1.2, carbs: 19, fiber: 4,
      vitamins: [
        { name: 'Vitamina C', amount: 10, unit: 'mg' },
        { name: 'Vitamina K', amount: 16, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 10, unit: 'mg' },
        { name: 'Hierro', amount: 0.3, unit: 'mg' }
      ]
    }
  },
  grains: {
    'Pan de trigo integral': {
      kcal: 263, protein: 9, fat: 2, carbs: 49, fiber: 6.5,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.4, unit: 'mg' },
        { name: 'Vitamina B3', amount: 4.6, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 107, unit: 'mg' },
        { name: 'Hierro', amount: 3.6, unit: 'mg' }
      ]
    },
    'Pasta de trigo integral': {
      kcal: 350, protein: 12, fat: 2, carbs: 70, fiber: 7,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.5, unit: 'mg' },
        { name: 'Vitamina B3', amount: 5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 30, unit: 'mg' },
        { name: 'Hierro', amount: 2, unit: 'mg' }
      ]
    },
    'Arroz integral': {
      kcal: 111, protein: 2.6, fat: 0.9, carbs: 23, fiber: 1.8,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.12, unit: 'mg' },
        { name: 'Vitamina B3', amount: 1.5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 10, unit: 'mg' },
        { name: 'Hierro', amount: 0.4, unit: 'mg' }
      ]
    },
    'Avena': {
      kcal: 389, protein: 16.9, fat: 6.9, carbs: 66.3, fiber: 10.6,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.6, unit: 'mg' },
        { name: 'Vitamina B3', amount: 1.1, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 54, unit: 'mg' },
        { name: 'Hierro', amount: 4.3, unit: 'mg' }
      ]
    },
    'Quinoa': {
      kcal: 120, protein: 4.4, fat: 1.9, carbs: 21.3, fiber: 2.8,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.1, unit: 'mg' },
        { name: 'Vitamina B3', amount: 0.4, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 17, unit: 'mg' },
        { name: 'Hierro', amount: 1.5, unit: 'mg' }
      ]
    },
    'Cebada': {
      kcal: 123, protein: 2.3, fat: 0.4, carbs: 28.2, fiber: 3.8,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.1, unit: 'mg' },
        { name: 'Vitamina B3', amount: 1.3, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 3, unit: 'mg' },
        { name: 'Hierro', amount: 0.4, unit: 'mg' }
      ]
    },
    'Centeno integral': {
      kcal: 259, protein: 8, fat: 3.3, carbs: 48, fiber: 5.8,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.4, unit: 'mg' },
        { name: 'Vitamina B3', amount: 2.2, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 21, unit: 'mg' },
        { name: 'Hierro', amount: 2.5, unit: 'mg' }
      ]
    },
    'Maíz integral (palomitas de maíz)': {
      kcal: 387, protein: 12.9, fat: 4.5, carbs: 74, fiber: 14.5,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.15, unit: 'mg' },
        { name: 'Vitamina B3', amount: 1.6, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 7, unit: 'mg' },
        { name: 'Hierro', amount: 0.8, unit: 'mg' }
      ]
    },
    'Bulgur': {
      kcal: 342, protein: 12.3, fat: 1.3, carbs: 76, fiber: 18.3,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.3, unit: 'mg' },
        { name: 'Vitamina B3', amount: 3, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 30, unit: 'mg' },
        { name: 'Hierro', amount: 2.5, unit: 'mg' }
      ]
    },
    'Farro': {
      kcal: 340, protein: 14, fat: 2.5, carbs: 65, fiber: 8,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.28, unit: 'mg' },
        { name: 'Vitamina B3', amount: 2.5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 20, unit: 'mg' },
        { name: 'Hierro', amount: 3.0, unit: 'mg' }
      ]
    },
    'Mijo': {
      kcal: 378, protein: 11, fat: 4.2, carbs: 72.8, fiber: 8.5,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.4, unit: 'mg' },
        { name: 'Vitamina B3', amount: 2.7, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 8, unit: 'mg' },
        { name: 'Hierro', amount: 3.0, unit: 'mg' }
      ]
    },
    'Tortillas de maíz integral': {
      kcal: 218, protein: 5.4, fat: 2.5, carbs: 45, fiber: 7,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.2, unit: 'mg' },
        { name: 'Vitamina B3', amount: 1.3, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 45, unit: 'mg' },
        { name: 'Hierro', amount: 0.5, unit: 'mg' }
      ]
    },
    'Pan de centeno': {
      kcal: 259, protein: 8, fat: 3.3, carbs: 48, fiber: 5.8,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.35, unit: 'mg' },
        { name: 'Vitamina B3', amount: 3, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 45, unit: 'mg' },
        { name: 'Hierro', amount: 2.5, unit: 'mg' }
      ]
    },
    'Salvado de avena': {
      kcal: 246, protein: 17.3, fat: 7, carbs: 66.2, fiber: 15.4,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.5, unit: 'mg' },
        { name: 'Vitamina B3', amount: 1.5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 50, unit: 'mg' },
        { name: 'Hierro', amount: 4, unit: 'mg' }
      ]
    },
    'Trigo sarraceno': {
      kcal: 92, protein: 3.4, fat: 0.6, carbs: 20, fiber: 3,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.1, unit: 'mg' },
        { name: 'Vitamina B3', amount: 1, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 18, unit: 'mg' },
        { name: 'Hierro', amount: 1.3, unit: 'mg' }
      ]
    },
    'Arroz blanco': {
      kcal: 130, protein: 2.7, fat: 0.3, carbs: 28, fiber: 0.4, type: 'limit',
      vitamins: [
        { name: 'Vitamina B1', amount: 0.07, unit: 'mg' },
        { name: 'Vitamina B3', amount: 1.5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 10, unit: 'mg' },
        { name: 'Hierro', amount: 0.2, unit: 'mg' }
      ]
    },
    'Pan blanco': {
      kcal: 265, protein: 9, fat: 3.2, carbs: 49, fiber: 2.7, type: 'limit',
      vitamins: [
        { name: 'Vitamina B1', amount: 0.4, unit: 'mg' },
        { name: 'Vitamina B3', amount: 3, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 100, unit: 'mg' },
        { name: 'Hierro', amount: 1.5, unit: 'mg' }
      ]
    }
  },
  protein: {
    'Salmón': {
      kcal: 175, protein: 20, fat: 10, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 13, unit: 'µg' },
        { name: 'Vitamina B12', amount: 3.2, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 36.5, unit: 'µg' },
        { name: 'Hierro', amount: 0.8, unit: 'mg' }
      ]
    },
    'Sardinas': {
      kcal: 208, protein: 25, fat: 11, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 4.8, unit: 'µg' },
        { name: 'Vitamina B12', amount: 8.9, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 382, unit: 'mg' },
        { name: 'Hierro', amount: 2.9, unit: 'mg' }
      ]
    },
    'Caballa': {
      kcal: 205, protein: 19, fat: 13, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 10, unit: 'µg' },
        { name: 'Vitamina B12', amount: 7.0, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 40, unit: 'µg' },
        { name: 'Hierro', amount: 1.5, unit: 'mg' }
      ]
    },
    'Atún (fresco)': {
      kcal: 132, protein: 28, fat: 1, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 5, unit: 'µg' },
        { name: 'Vitamina B12', amount: 2.6, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 60, unit: 'µg' },
        { name: 'Hierro', amount: 1.3, unit: 'mg' }
      ]
    },
    'Arenque': {
      kcal: 158, protein: 18, fat: 9, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 7, unit: 'µg' },
        { name: 'Vitamina B12', amount: 12, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 45, unit: 'µg' },
        { name: 'Hierro', amount: 2, unit: 'mg' }
      ]
    },
    'Boquerón (anchoa fresca)': {
      kcal: 160, protein: 18, fat: 9, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 8, unit: 'µg' },
        { name: 'Vitamina B12', amount: 10, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 210, unit: 'mg' },
        { name: 'Hierro', amount: 1.8, unit: 'mg' }
      ]
    },
    'Trucha': {
      kcal: 148, protein: 20, fat: 7, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 5, unit: 'µg' },
        { name: 'Vitamina B12', amount: 3.5, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 26, unit: 'µg' },
        { name: 'Hierro', amount: 0.8, unit: 'mg' }
      ]
    },
    'Palometa': {
      kcal: 150, protein: 20, fat: 7, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 4, unit: 'µg' },
        { name: 'Vitamina B12', amount: 2, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 28, unit: 'µg' },
        { name: 'Hierro', amount: 1.0, unit: 'mg' }
      ]
    },
    'Anguila': {
      kcal: 184, protein: 18, fat: 11, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 20, unit: 'µg' },
        { name: 'Vitamina B12', amount: 11, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 40, unit: 'µg' },
        { name: 'Hierro', amount: 1.2, unit: 'mg' }
      ]
    },
    'Jurel': {
      kcal: 155, protein: 18, fat: 10, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 6, unit: 'µg' },
        { name: 'Vitamina B12', amount: 8, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 35, unit: 'µg' },
        { name: 'Hierro', amount: 1.1, unit: 'mg' }
      ]
    },
    'Emperador': {
      kcal: 175, protein: 20, fat: 10, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 4, unit: 'µg' },
        { name: 'Vitamina B12', amount: 2.7, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 40, unit: 'µg' },
        { name: 'Hierro', amount: 0.9, unit: 'mg' }
      ]
    },
    'Bonito del norte': {
      kcal: 130, protein: 28, fat: 1, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 5, unit: 'µg' },
        { name: 'Vitamina B12', amount: 3, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 35, unit: 'µg' },
        { name: 'Hierro', amount: 1, unit: 'mg' }
      ]
    },
    'Merluza': {
      kcal: 85, protein: 18, fat: 1, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 2, unit: 'µg' },
        { name: 'Vitamina B12', amount: 1.5, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 17, unit: 'µg' },
        { name: 'Hierro', amount: 0.7, unit: 'mg' }
      ]
    },
    'Bacalao': {
      kcal: 82, protein: 18, fat: 0.7, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 1.8, unit: 'µg' },
        { name: 'Vitamina B12', amount: 1.5, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 18, unit: 'µg' },
        { name: 'Hierro', amount: 0.8, unit: 'mg' }
      ]
    },
    'Lenguado': {
      kcal: 91, protein: 17, fat: 2, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 1.6, unit: 'µg' },
        { name: 'Vitamina B12', amount: 0.8, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 12, unit: 'µg' },
        { name: 'Hierro', amount: 0.7, unit: 'mg' }
      ]
    },
    'Gallo': {
      kcal: 90, protein: 17, fat: 2, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 1.6, unit: 'µg' },
        { name: 'Vitamina B12', amount: 0.8, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 12, unit: 'µg' },
        { name: 'Hierro', amount: 0.7, unit: 'mg' }
      ]
    },
    'Lubina': {
      kcal: 97, protein: 18, fat: 2, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 2, unit: 'µg' },
        { name: 'Vitamina B12', amount: 1.1, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 15, unit: 'µg' },
        { name: 'Hierro', amount: 0.9, unit: 'mg' }
      ]
    },
    'Dorada': {
      kcal: 105, protein: 17, fat: 2, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 3, unit: 'µg' },
        { name: 'Vitamina B12', amount: 1.2, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 20, unit: 'µg' },
        { name: 'Hierro', amount: 1.1, unit: 'mg' }
      ]
    },
    'Rape': {
      kcal: 90, protein: 18, fat: 1, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 1.5, unit: 'µg' },
        { name: 'Vitamina B12', amount: 1.0, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 15, unit: 'µg' },
        { name: 'Hierro', amount: 0.7, unit: 'mg' }
      ]
    },
    'Pescadilla': {
      kcal: 87, protein: 17, fat: 0.9, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 1.8, unit: 'µg' },
        { name: 'Vitamina B12', amount: 1.2, unit: 'µg' }
      ],
      minerals: [
        { name: 'Selenio', amount: 14, unit: 'µg' },
        { name: 'Hierro', amount: 0.8, unit: 'mg' }
      ]
    },
    'Pollo (sin piel)': {
      kcal: 165, protein: 31, fat: 3.6, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina B6', amount: 0.5, unit: 'mg' },
        { name: 'Vitamina B12', amount: 0.3, unit: 'µg' }
      ],
      minerals: [
        { name: 'Fósforo', amount: 210, unit: 'mg' },
        { name: 'Hierro', amount: 1.2, unit: 'mg' }
      ]
    },
    'Pavo (sin piel)': {
      kcal: 135, protein: 29, fat: 1, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina B6', amount: 0.7, unit: 'mg' },
        { name: 'Vitamina B12', amount: 0.4, unit: 'µg' }
      ],
      minerals: [
        { name: 'Fósforo', amount: 220, unit: 'mg' },
        { name: 'Hierro', amount: 1.1, unit: 'mg' }
      ]
    },
    'Legumbres': {
      kcal: 127, protein: 8.7, fat: 0.5, carbs: 22.8, fiber: 6.4,
      vitamins: [
        { name: 'Vitamina B9', amount: 130, unit: 'µg' },
        { name: 'Vitamina B1', amount: 0.3, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 50, unit: 'mg' },
        { name: 'Hierro', amount: 2.5, unit: 'mg' }
      ]
    },
    'Lentejas': {
      kcal: 116, protein: 9, fat: 0.4, carbs: 20, fiber: 7.9,
      vitamins: [
        { name: 'Vitamina B9', amount: 181, unit: 'µg' },
        { name: 'Vitamina B1', amount: 0.2, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 19, unit: 'mg' },
        { name: 'Hierro', amount: 3.3, unit: 'mg' }
      ]
    },
     'Guisantes': {
      kcal: 127, protein: 8.7, fat: 0.5, carbs: 22.8, fiber: 6.4,
      vitamins: [
        { name: 'Vitamina B9', amount: 130, unit: 'µg' },
        { name: 'Vitamina B1', amount: 0.3, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 50, unit: 'mg' },
        { name: 'Hierro', amount: 2.5, unit: 'mg' }
      ]
    },
    'Garbanzos': {
      kcal: 139, protein: 7.3, fat: 2.4, carbs: 23.7, fiber: 7.6,
      vitamins: [
        { name: 'Vitamina B9', amount: 172, unit: 'µg' },
        { name: 'Vitamina B1', amount: 0.1, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 49, unit: 'mg' },
        { name: 'Hierro', amount: 2.9, unit: 'mg' }
      ]
    },
    'Habichuelas': {
      kcal: 127, protein: 8.7, fat: 0.5, carbs: 22.8, fiber: 6.4,
      vitamins: [
        { name: 'Vitamina B9', amount: 130, unit: 'µg' },
        { name: 'Vitamina B1', amount: 0.3, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 50, unit: 'mg' },
        { name: 'Hierro', amount: 2.5, unit: 'mg' }
      ]
    },
    'Soja': {
      kcal: 446, protein: 36.5, fat: 19.9, carbs: 30.2, fiber: 9.3,
      vitamins: [
        { name: 'Vitamina B9', amount: 375, unit: 'µg' },
        { name: 'Vitamina K', amount: 47, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 277, unit: 'mg' },
        { name: 'Hierro', amount: 15.7, unit: 'mg' }
      ]
    },
    'Edamame': {
      kcal: 121, protein: 11.9, fat: 5.2, carbs: 8.9, fiber: 5.2,
      vitamins: [
        { name: 'Vitamina C', amount: 5, unit: 'mg' },
        { name: 'Vitamina K', amount: 26, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 63, unit: 'mg' },
        { name: 'Hierro', amount: 2.3, unit: 'mg' }
      ]
    },
    'Tofu': {
      kcal: 76, protein: 8.1, fat: 4.8, carbs: 1.9, fiber: 0.3,
      vitamins: [
        { name: 'Vitamina B1', amount: 0.1, unit: 'mg' },
        { name: 'Vitamina B9', amount: 15, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 350, unit: 'mg' },
        { name: 'Hierro', amount: 1.2, unit: 'mg' }
      ]
    },
    'Tempeh': {
      kcal: 195, protein: 20.3, fat: 11.4, carbs: 9.4, fiber: 6,
      vitamins: [
        { name: 'Vitamina B2', amount: 0.2, unit: 'mg' },
        { name: 'Vitamina B9', amount: 35, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 111, unit: 'mg' },
        { name: 'Hierro', amount: 2.7, unit: 'mg' }
      ]
    },
    'Huevos (por 100g)': {
      kcal: 143, protein: 12.6, fat: 9.5, carbs: 0.7, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 2, unit: 'µg' },
        { name: 'Vitamina B12', amount: 1.1, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 50, unit: 'mg' },
        { name: 'Hierro', amount: 1.2, unit: 'mg' }
      ]
    },
    'Yogur griego (natural)': {
      kcal: 59, protein: 10, fat: 0.4, carbs: 3.6, fiber: 0,
      vitamins: [
        { name: 'Vitamina B2', amount: 0.2, unit: 'mg' },
        { name: 'Vitamina B12', amount: 0.8, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 110, unit: 'mg' },
        { name: 'Potasio', amount: 141, unit: 'mg' }
      ]
    },
    'Queso cottage (bajo grasa)': {
      kcal: 98, protein: 11.1, fat: 4.3, carbs: 3.4, fiber: 0,
      vitamins: [
        { name: 'Vitamina B12', amount: 0.8, unit: 'µg' },
        { name: 'Vitamina A', amount: 160, unit: 'IU' }
      ],
      minerals: [
        { name: 'Calcio', amount: 125, unit: 'mg' },
        { name: 'Fósforo', amount: 160, unit: 'mg' }
      ]
    },
    'Almendras': {
      kcal: 579, protein: 21.2, fat: 49.9, carbs: 21.6, fiber: 12.2,
      vitamins: [
        { name: 'Vitamina E', amount: 25.6, unit: 'mg' },
        { name: 'Vitamina B2', amount: 1.1, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 264, unit: 'mg' },
        { name: 'Hierro', amount: 3.7, unit: 'mg' }
      ]
    },
    'Anacardos': {
      kcal: 553, protein: 18.2, fat: 43.9, carbs: 30.2, fiber: 3.3,
      vitamins: [
        { name: 'Vitamina E', amount: 0.9, unit: 'mg' },
        { name: 'Vitamina B1', amount: 0.4, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 37, unit: 'mg' },
        { name: 'Hierro', amount: 6.7, unit: 'mg' }
      ]
    },
    'Pistachos': {
      kcal: 562, protein: 20.2, fat: 45.3, carbs: 27.5, fiber: 10.6,
      vitamins: [
        { name: 'Vitamina B6', amount: 1.7, unit: 'mg' },
        { name: 'Vitamina E', amount: 2.9, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 105, unit: 'mg' },
        { name: 'Hierro', amount: 4, unit: 'mg' }
      ]
    },
    'Nueces': {
      kcal: 654, protein: 15.2, fat: 65.2, carbs: 13.7, fiber: 6.7,
      vitamins: [
        { name: 'Vitamina E', amount: 0.7, unit: 'mg' },
        { name: 'Vitamina B6', amount: 0.5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 98, unit: 'mg' },
        { name: 'Hierro', amount: 2.9, unit: 'mg' }
      ]
    },
    'Semillas': {
      kcal: 486, protein: 16.5, fat: 30.7, carbs: 42.1, fiber: 34.4,
      vitamins: [
        { name: 'Vitamina E', amount: 0.5, unit: 'mg' },
        { name: 'Vitamina B1', amount: 0.5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 150, unit: 'mg' },
        { name: 'Hierro', amount: 5, unit: 'mg' }
      ]
    },
    'Carne de res magra (cocida)': {
      kcal: 250, protein: 26, fat: 15, carbs: 0, fiber: 0, type: 'limit',
      vitamins: [
        { name: 'Vitamina B12', amount: 2, unit: 'µg' },
        { name: 'Vitamina B6', amount: 0.5, unit: 'mg' }
      ],
      minerals: [
        { name: 'Hierro', amount: 2.7, unit: 'mg' },
        { name: 'Zinc', amount: 4.6, unit: 'mg' }
      ]
    },
    'Cerdo magro (cocido)': {
      kcal: 242, protein: 27, fat: 10, carbs: 0, fiber: 0, type: 'limit',
      vitamins: [
        { name: 'Vitamina B12', amount: 0.7, unit: 'µg' },
        { name: 'Vitamina B6', amount: 0.4, unit: 'mg' }
      ],
      minerals: [
        { name: 'Hierro', amount: 1.2, unit: 'mg' },
        { name: 'Zinc', amount: 3.3, unit: 'mg' }
      ]
    },
    'Carnes procesadas': {
      kcal: 400, protein: 15, fat: 35, carbs: 1, fiber: 0, type: 'avoid',
      vitamins: [],
      minerals: []
    },
    'Queso (genérico medio-graso)': {
      kcal: 350, protein: 25, fat: 25, carbs: 2, fiber: 0, type: 'limit',
      vitamins: [
        { name: 'Vitamina A', amount: 200, unit: 'IU' },
        { name: 'Vitamina B12', amount: 1.3, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 500, unit: 'mg' },
        { name: 'Fósforo', amount: 350, unit: 'mg' }
      ]
    },
    'Leche entera': {
      kcal: 60, protein: 3.4, fat: 3.3, carbs: 4.8, fiber: 0, type: 'limit',
      vitamins: [
        { name: 'Vitamina D', amount: 1.2, unit: 'µg' },
        { name: 'Vitamina B2', amount: 0.18, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 113, unit: 'mg' },
        { name: 'Fósforo', amount: 95, unit: 'mg' }
      ]
    }
  },
  oils: {
    'Aceite de oliva (virgen extra)': {
      kcal: 44, protein: 0, fat: 5, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina E', amount: 14, unit: 'mg' },
        { name: 'Vitamina K', amount: 60, unit: 'µg' }
      ],
      minerals: []
    },
    'Aceite de aguacate': {
      kcal: 44, protein: 0, fat: 5, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina E', amount: 10, unit: 'mg' },
        { name: 'Vitamina K', amount: 80, unit: 'µg' }
      ],
      minerals: []
    },
    'Aceite de cacahuete': {
      kcal: 44, protein: 0, fat: 5, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina E', amount: 8, unit: 'mg' },
        { name: 'Vitamina K', amount: 20, unit: 'µg' }
      ],
      minerals: []
    },
    'Aceite de girasol': {
      kcal: 44, protein: 0, fat: 5, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina E', amount: 41, unit: 'mg' },
        { name: 'Vitamina K', amount: 5, unit: 'µg' }
      ],
      minerals: []
    },
    'Aceite de soja': {
      kcal: 44, protein: 0, fat: 5, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina E', amount: 8, unit: 'mg' },
        { name: 'Vitamina K', amount: 7, unit: 'µg' }
      ],
      minerals: []
    },
    'Aceite de maíz': {
      kcal: 44, protein: 0, fat: 5, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina E', amount: 7, unit: 'mg' },
        { name: 'Vitamina K', amount: 8, unit: 'µg' }
      ],
      minerals: []
    },
    'Aceite de sésamo': {
      kcal: 44, protein: 0, fat: 5, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina E', amount: 1.5, unit: 'mg' },
        { name: 'Vitamina K', amount: 60, unit: 'µg' }
      ],
      minerals: []
    },
    'Aceite de linaza': {
      kcal: 44, protein: 0, fat: 5, carbs: 0, fiber: 0,
      vitamins: [
        { name: 'Vitamina E', amount: 0.3, unit: 'mg' },
        { name: 'Vitamina K', amount: 18, unit: 'µg' }
      ],
      minerals: []
    },
    'Aguacate': {
      kcal: 160, protein: 2, fat: 15, carbs: 9, fiber: 7,
      vitamins: [
        { name: 'Vitamina E', amount: 2.7, unit: 'mg' },
        { name: 'Vitamina K', amount: 21, unit: 'µg' }
      ],
      minerals: [
        { name: 'Potasio', amount: 485, unit: 'mg' }
      ]
    },
    'Mantequilla': {
      kcal: 35.85, protein: 0.045, fat: 4.05, carbs: 0.005, fiber: 0, type: 'limit',
      vitamins: [
        { name: 'Vitamina A', amount: 684, unit: 'µg RE' },
        { name: 'Vitamina D', amount: 1, unit: 'µg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 24, unit: 'mg' }
      ]
    },
    'Margarina': {
      kcal: 35.85, protein: 0.01, fat: 4, carbs: 0.025, fiber: 0, type: 'limit',
      vitamins: [
        { name: 'Vitamina A', amount: 500, unit: 'µg RE' },
        { name: 'Vitamina D', amount: 0.5, unit: 'µg' }
      ],
      minerals: []
    }
  },
  drinks: {
    'Agua': {
      kcal: 0, protein: 0, fat: 0, carbs: 0, fiber: 0,
      vitamins: [],
      minerals: []
    },
    'Café (solo)': {
      kcal: 2, protein: 0.1, fat: 0, carbs: 0, fiber: 0,
      vitamins: [],
      minerals: [
        { name: 'Magnesio', amount: 2, unit: 'mg' }
      ]
    },
    'Té (sin azúcar)': {
      kcal: 1, protein: 0.1, fat: 0, carbs: 0.2, fiber: 0,
      vitamins: [],
      minerals: [
        { name: 'Fluoruro', amount: 0.3, unit: 'mg' }
      ]
    },
    'Zumos de fruta (genérico)': {
      kcal: 45, protein: 0.5, fat: 0.1, carbs: 10, fiber: 0.2, type: 'limit',
      vitamins: [
        { name: 'Vitamina C', amount: 30, unit: 'mg' }
      ],
      minerals: [
        { name: 'Potasio', amount: 200, unit: 'mg' }
      ]
    },
    'Bebidas azucaradas (refresco)': {
      kcal: 40, protein: 0, fat: 0, carbs: 10, fiber: 0, type: 'avoid',
      vitamins: [],
      minerals: []
    },
    'Leche desnatada': {
      kcal: 35, protein: 3.4, fat: 0.1, carbs: 5, fiber: 0,
      vitamins: [
        { name: 'Vitamina D', amount: 1.5, unit: 'µg' },
        { name: 'Vitamina B2', amount: 0.2, unit: 'mg' }
      ],
      minerals: [
        { name: 'Calcio', amount: 125, unit: 'mg' },
        { name: 'Fósforo', amount: 100, unit: 'mg' }
      ]
    }
  }
};


        // --- APPLICATION CONFIGURATION ---
        const foods = {
            vegetables: ["Acelga", "Achicoria", "Ajo", "Alcaparras", "Alfalfa (Brotes)", "Algas", "Apio", "Apionabo", "Alcachofas", "Arvejas", "Bambú (brotes)", "Batata", "Berenjena", "Berro", "Borraja", "Brócoli", "Calabacín", "Calabaza", "Canónigos", "Cardo", "Cardo mariano", "Cebolla", "Champiñones", "Champiñones silvestres", "Chirivía", "Col china", "Coles", "Coles de Bruselas", "Coliflor", "Colinabo", "Cúrcuma", "Diente de león", "Endivia", "Eneldo", "Escarola", "Espárragos", "Espinaca", "Galanga", "Grelos", "Guisantes", "Habas", "Hinojo", "Hisopo", "Hojas de mostaza", "Jengibre", "Judías verdes", "Lechuga", "Maíz", "Malanga", "Mandioca", "Mejorana", "Menta", "Nabos", "Nabo sueco", "Ñame", "Okra", "Orégano", "Ortiga", "Pak choi", "Palmito", "Pepino", "Perejil", "Perifollo", "Pimientos", "Puerro", "Rabanitos", "Rábano", "Rábano daikon", "Rábano picante", "Radicchio", "Remolacha", "Repollo", "Romaine", "Romero", "Rúcula", "Ruibarbo", "Salvia", "Setas", "Soja", "Soja verde","Tomates", "Tomillo", "Trébol", "Wakame", "Yuca", "Zanahoria"],
            fruits: ["Arándanos", "Cerezas", "Frambuesas", "Fresas", "Granada", "Higos", "Kiwi", "Limones", "Mandarinas", "Mango", "Manzanas", "Melocotones", "Melón", "Moras", "Naranjas", "Peras", "Piña", "Plátanos", "Sandía", "Uvas", { name: "Zumos", limited: true }],
            grains: ["Arroz integral", "Avena", "Bulgur", "Cebada", "Centeno integral", "Farro", "Maíz integral (palomitas de maíz)", "Mijo", "Pan de centeno", "Pan de trigo integral", "Pasta de trigo integral", "Quinoa", "Salvado de avena", "Tortillas de maíz integral", "Trigo sarraceno", { name: "Arroz blanco", limited: true }, { name: "Pan blanco", limited: true }],
            protein: ["Almendras", "Anacardos", "Anguila", "Arenque", "Atún (fresco)", "Bacalao", "Bonito del norte", "Boquerón (anchoa fresca)", "Caballa", "Carnes procesadas","Edamame", "Emperador", "Gallo", "Garbanzos", "Guisantes", "Habichuelas", "Huevos", "Jurel", "Legumbres", "Lenguado", "Lentejas", "Leche y lácteos", "Lubina", "Merluza", "Nueces", "Palometa", "Pescadilla", "Pistachos", "Pollo (sin piel)", "Rape", "Salmón", "Sardinas", "Semillas", "Tempeh", "Tofu", "Trucha", "Pavo (sin piel)", "Yogur griego (natural)"],
            oils: ["Aguacate", "Aceite de aguacate", "Aceite de cacahuete", "Aceite de girasol", "Aceite de linaza", "Aceite de maíz", "Aceite de oliva (virgen extra)", "Aceite de sésamo", "Aceite de soja", { name: "Mantequilla", limited: true }, { name: "Margarina", limited: true, avoid: true }],
            drinks: ["Agua", "Café (solo)", "Té (sin azúcar)", { name: "Bebidas azucaradas", limited: true, avoid: true }]
        };

        const categoryLimits = {
            vegetables: 5, fruits: 3, grains: 3, protein: 3
        };

        // --- APPLICATION STATE ---
        let currentPlate = {
            vegetables: [], fruits: [], grains: [], protein: [], oils: [], drinks: []
        };
        let notificationTimeout = null;

        // --- DOM Elements ---
        const selectors = {
            vegetables: document.getElementById('vegetables-select'),
            fruits: document.getElementById('fruits-select'),
            grains: document.getElementById('grains-select'),
            protein: document.getElementById('protein-select'),
            oils: document.getElementById('oils-select'),
            drinks: document.getElementById('drinks-select')
        };
        const lists = {
            vegetables: document.getElementById('vegetables-list'),
            fruits: document.getElementById('fruits-list'),
            grains: document.getElementById('grains-list'),
            protein: document.getElementById('protein-list'),
            oils: document.getElementById('oils-list'),
            drinks: document.getElementById('drinks-list')
        };
        const notification = document.getElementById('notification');
        const analysisResultsDiv = document.getElementById('analysis-results');
        const analyzeBtn = document.getElementById('analyze-button');
        const saveBtn = document.getElementById('save-button');
        const loadBtn = document.getElementById('load-button');
        const printBtn = document.getElementById('print-button');
        const clearBtn = document.getElementById('clear-button');
        const objectiveSelect = document.getElementById('objective-select');
        const activityLevelSelect = document.getElementById('activity-level-select');
        const dailyCaloriesInput = document.getElementById('daily-calories-input');

        // --- Functions ---

        /**
         * Populates the select dropdowns with food items.
         */
        function populateSelectors() {
            for (const category in foods) {
                const selectElement = selectors[category];
                if (!selectElement) continue;

                // Sort food items alphabetically (case-insensitive)
                const sortedFoods = [...foods[category]].sort((a, b) => {
                    const nameA = typeof a === 'string' ? a : a.name;
                    const nameB = typeof b === 'string' ? b : b.name;
                    return nameA.localeCompare(nameB, 'es', { sensitivity: 'base' });
                });

                sortedFoods.forEach(food => {
                    const option = document.createElement('option');
                    let displayName = '';
                    let valueName = '';
                    let isLimited = false;
                    let isAvoid = false;

                    if (typeof food === 'string') {
                        valueName = food;
                        displayName = food;
                    } else {
                        valueName = food.name;
                        displayName = food.name;
                        isLimited = food.limited || false;
                        isAvoid = food.avoid || false;
                        // Add visual cues for limited/avoid items in the dropdown
                        if (isAvoid) displayName += ' (evitar)';
                        else if (isLimited) displayName += ' (limitar)';
                        option.dataset.limited = isLimited;
                        option.dataset.avoid = isAvoid;
                        if (isAvoid) option.classList.add('text-red-600', 'font-semibold');
                        else if (isLimited) option.classList.add('text-yellow-600');
                    }
                    option.value = valueName;
                    option.textContent = displayName;
                    selectElement.appendChild(option);
                });
            }
        }

        /**
         * Adds a selected food item to the corresponding plate category.
         * @param {string} category - The food category (e.g., 'vegetables', 'fruits').
         */
        function addFood(category) {
            const selectElement = selectors[category];
            const listElement = lists[category];
            const selectedValue = selectElement.value;

            if (!selectedValue) {
                showNotification('Por favor, selecciona un alimento.', 2000, true);
                return;
            }

            if (!listElement) {
                console.error(`List element not found for category: ${category}`);
                return;
            }

            // Initialize category array if it doesn't exist
            if (!currentPlate[category]) {
                currentPlate[category] = [];
            }

            // Check category limits
            const limit = categoryLimits[category];
            if (limit !== undefined && currentPlate[category].length >= limit) {
                const categoryName = category === 'vegetables' ? 'vegetales' : category === 'fruits' ? 'frutas' : category === 'grains' ? 'granos' : 'proteínas';
                showNotification(`Máximo de ${limit} ${categoryName} alcanzado.`, 3000, true);
                selectElement.value = ""; // Reset dropdown
                return;
            }

            // Check for duplicates
            if (currentPlate[category].some(item => item.name === selectedValue)) {
                const categoryNameFriendly = category === 'vegetables' ? 'vegetales' : category === 'fruits' ? 'frutas' : category === 'grains' ? 'granos integrales' : category === 'protein' ? 'proteína saludable' : category === 'oils' ? 'aceites saludables' : 'bebidas';
                showNotification(`${selectedValue} ya está en la sección de ${categoryNameFriendly}.`, 2500, true);
                selectElement.value = ""; // Reset dropdown
                return;
            }

            // Add food to the plate state
            const foodItem = {
                name: selectedValue,
                category: category,
                nutrition: getNutritionData(selectedValue) // Get nutritional data
            };
            currentPlate[category].push(foodItem);

            renderPlate(); // Update the visual representation
            selectElement.value = ""; // Reset dropdown
        }

        /**
         * Removes a food item from a specific category on the plate.
         * @param {string} category - The food category.
         * @param {string} foodName - The name of the food to remove.
         */
        function removeFood(category, foodName) {
            if (!currentPlate[category]) return;

            // Filter out the item to be removed
            currentPlate[category] = currentPlate[category].filter(item => item.name !== foodName);
            renderPlate(); // Update the visual representation
        }

        /**
         * Updates the visual display of the plate based on the currentPlate state.
         */
        function renderPlate() {
            for (const category in lists) {
                const listElement = lists[category];
                if (!listElement) continue;

                listElement.innerHTML = ''; // Clear current list

                // Ensure the category array exists
                if (!currentPlate[category]) {
                    currentPlate[category] = [];
                }

                // Add each food item to the list
                currentPlate[category].forEach(foodItem => {
                    const foodName = foodItem.name;
                    const li = document.createElement('li');
                    const textSpan = document.createElement('span');
                    textSpan.textContent = foodName;

                    // Apply special styling for limited/avoid items
                    const foodConfig = foods[category]?.find(f => (typeof f === 'string' ? f : f.name) === foodName);
                    if (typeof foodConfig === 'object') {
                        if (foodConfig.avoid) textSpan.classList.add('avoid-item');
                        else if (foodConfig.limited) textSpan.classList.add('limited-item');
                    }

                    li.appendChild(textSpan);

                    // Add remove button
                    const removeBtn = document.createElement('button');
                    removeBtn.innerHTML = '&times;'; // Multiplication sign as 'x'
                    removeBtn.setAttribute('aria-label', `Eliminar ${foodName}`);
                    removeBtn.onclick = () => removeFood(category, foodName);
                    li.appendChild(removeBtn);

                    listElement.appendChild(li);
                });
            }
        }

        /**
         * Retrieves nutritional data for a given food name.
         * @param {string} foodName - The name of the food.
         * @returns {object|null} The nutritional data object or null if not found.
         */
        function getNutritionData(foodName) {
            for (const category in foodData) {
                if (foodData[category]?.[foodName]) {
                    return foodData[category][foodName];
                }
            }
            // Return null or a default structure if not found
            // console.warn(`Nutritional data not found for: ${foodName}`);
            return null;
        }

        /**
         * Analyzes the current plate composition and provides feedback.
         */
        function analyzePlate() {
            console.log("[Analyze] Starting plate analysis...");
            let total = { calories: 0, protein: 0, fat: 0, carbs: 0, fiber: 0 };
            let foodCount = 0; // Total items added
            let foodItemsWithData = 0; // Items with actual nutrition info
            let plateItems = { vegFruit: 0, grains: 0, protein: 0 }; // Count items in main plate sections
            let includedItems = { oils: false, water: false, avoid: 0, limit: 0 }; // Track specific item types

            // Iterate through each category in the current plate state
            for (const category in currentPlate) {
                if (!currentPlate[category]) continue; // Skip if category is empty/undefined

                currentPlate[category].forEach(foodItem => {
                    foodCount++;
                    const foodName = foodItem.name;
                    const data = foodItem.nutrition; // Use stored nutrition data

                    if (data) {
                        // Assume 100g portion for most items, 5g for oils
                        const portionMultiplier = (category === 'oils' && foodName !== 'Aguacate' && foodName !== 'Mantequilla' && foodName !== 'Margarina') ? 0.05 : 1;

                        const kcal = (Number(data.kcal) || 0) * portionMultiplier;
                        const prot = (Number(data.protein) || 0) * portionMultiplier;
                        const fat = (Number(data.fat) || 0) * portionMultiplier;
                        const carb = (Number(data.carbs) || 0) * portionMultiplier;
                        const fib = (Number(data.fiber) || 0) * portionMultiplier;

                        // Only count items with some nutritional value towards totals
                        if (kcal > 0 || prot > 0 || fat > 0 || carb > 0 || fib > 0) {
                            foodItemsWithData++;
                            total.calories += kcal;
                            total.protein += prot;
                            total.fat += fat;
                            total.carbs += carb;
                            total.fiber += fib;
                        } else if (foodName === 'Agua') {
                             // Count water even if 0 kcal for tracking purposes
                             foodItemsWithData++;
                        }

                        // Count items for plate proportion calculation
                        if (category === 'vegetables' || category === 'fruits') {
                            plateItems.vegFruit++;
                        } else if (category === 'grains') {
                            plateItems.grains++;
                        } else if (category === 'protein') {
                            plateItems.protein++;
                        }

                        // Track specific types of items
                        if (category === 'oils' && foodName !== 'Aguacate' && foodName !== 'Mantequilla' && foodName !== 'Margarina') {
                            includedItems.oils = true;
                        }
                        if (foodName === 'Agua') {
                            includedItems.water = true;
                        }
                        if (data?.type === 'avoid') {
                            includedItems.avoid++;
                        }
                        if (data?.type === 'limit') {
                            includedItems.limit++;
                        }
                    } else if (foodName === 'Agua') {
                         // Count water even if data object is null (it has 0 kcal anyway)
                         foodItemsWithData++;
                         includedItems.water = true;
                    }
                });
            }

            console.log("[Analyze] Raw Totals (estimated):", total);
            console.log("[Analyze] Plate Counts (by item):", plateItems);
            console.log("[Analyze] Included Item Types:", includedItems);
            console.log(`[Analyze] Food Count: ${foodCount}, Items with Data: ${foodItemsWithData}`);

            // Handle empty plate case
            if (foodCount === 0) {
                analysisResultsDiv.innerHTML = `
                    <h3 class="text-xl font-bold mb-4 text-gray-700 text-center">Análisis del Plato</h3>
                    <p class="text-gray-500 italic text-center">Añade alimentos, define tu contexto y haz clic en "Analizar Plato" para ver los resultados.</p>`;
                showNotification("Añade alimentos antes de analizar.", 3000, true);
                return;
            }

            // Calculate plate proportions based on item count
            const totalPlateItems = plateItems.vegFruit + plateItems.grains + plateItems.protein;
            const vegFruitPercent = totalPlateItems > 0 ? ((plateItems.vegFruit / totalPlateItems) * 100).toFixed(0) : 0;
            const grainsPercent = totalPlateItems > 0 ? ((plateItems.grains / totalPlateItems) * 100).toFixed(0) : 0;
            const proteinPercentPlate = totalPlateItems > 0 ? ((plateItems.protein / totalPlateItems) * 100).toFixed(0) : 0;

            // --- Scoring (Simple Example) ---
            let score = 0;
            const maxScore = 100; // Define a maximum possible score

            // Score based on main plate proportions
            if (totalPlateItems > 0) {
                // Veg/Fruit (Ideal ~50%) - Max 30 points
                if (vegFruitPercent >= 45 && vegFruitPercent <= 55) score += 30;
                else if (vegFruitPercent >= 40 && vegFruitPercent <= 60) score += 20;
                else if (vegFruitPercent > 30) score += 10;

                // Grains (Ideal ~25%) - Max 20 points
                if (grainsPercent >= 20 && grainsPercent <= 30) score += 20;
                else if (grainsPercent >= 15 && grainsPercent <= 35) score += 10;

                // Protein (Ideal ~25%) - Max 20 points
                if (proteinPercentPlate >= 20 && proteinPercentPlate <= 30) score += 20;
                else if (proteinPercentPlate >= 15 && proteinPercentPlate <= 35) score += 10;
            }

            // Score based on other factors
            if (includedItems.water) score += 10; // Points for including water
            if (includedItems.oils) score += 5;  // Points for including healthy oils
            if (total.fiber >= 7) score += 10;   // Points for high fiber
            else if (total.fiber >= 4) score += 5; // Points for moderate fiber

            // Deductions
            score -= includedItems.avoid * 15; // Penalty for 'avoid' items
            score -= includedItems.limit * 5;  // Smaller penalty for 'limit' items

            score = Math.max(0, Math.min(score, maxScore)); // Ensure score is between 0 and maxScore

            // --- Macronutrient Calculation ---
            const proteinCalories = total.protein * 4;
            const fatCalories = total.fat * 9;
            const carbCalories = total.carbs * 4;
            const totalMacroCalories = proteinCalories + fatCalories + carbCalories;
            const macroProtPercent = totalMacroCalories > 0 ? parseFloat(((proteinCalories / totalMacroCalories) * 100).toFixed(1)) : 0;
            const macroFatPercent = totalMacroCalories > 0 ? parseFloat(((fatCalories / totalMacroCalories) * 100).toFixed(1)) : 0;
            const macroCarbPercent = totalMacroCalories > 0 ? parseFloat(((carbCalories / totalMacroCalories) * 100).toFixed(1)) : 0;

            // --- User Context ---
            const selectedObjective = objectiveSelect.value;
            const selectedActivityLevel = activityLevelSelect.value; // Currently unused, but available
            const dailyCaloriesGoal = Number(dailyCaloriesInput.value) || 0;

            // --- Generate HTML Output ---
            let suggestionsList = ''; // For improvement suggestions
            let positivesList = '';   // For positive aspects

            // Calorie Goal Feedback
            if (dailyCaloriesGoal > 0 && total.calories > 0) {
                const percentageOfGoal = ((total.calories / dailyCaloriesGoal) * 100).toFixed(0);
                let calorieMsg = `Este plato aporta aprox. <strong>${total.calories.toFixed(0)} kcal</strong> (${percentageOfGoal}% de tu objetivo diario de ${dailyCaloriesGoal} kcal). `;
                if (selectedObjective === 'lose') {
                    if (percentageOfGoal < 25) calorieMsg += "Es bajo para una comida principal, asegúrate de compensar en otras comidas o añadir más volumen si no te sientes saciado.";
                    else if (percentageOfGoal > 40) calorieMsg += "Es un aporte calórico considerable para pérdida de peso; ajusta otras comidas.";
                    else calorieMsg += "Parece un aporte razonable para una comida principal en un plan de pérdida de peso.";
                } else if (selectedObjective === 'gain') {
                    if (percentageOfGoal < 30) calorieMsg += "Podría ser bajo para ganar masa muscular; considera aumentar porciones o añadir snacks.";
                    else calorieMsg += "Buen aporte calórico para tu objetivo.";
                } else { // maintain
                    if (percentageOfGoal < 25) calorieMsg += "Es algo bajo para una comida principal de mantenimiento; asegúrate de que tus otras comidas compensen.";
                    else if (percentageOfGoal > 40) calorieMsg += "Aporte calórico elevado para mantenimiento; ajusta el resto del día.";
                    else calorieMsg += "Aporte calórico adecuado para una comida principal de mantenimiento.";
                }
                // Add to positives or suggestions based on context? Let's add to positives for now.
                positivesList += `<li>${calorieMsg}</li>`;
            } else if (dailyCaloriesGoal <= 0 && total.calories > 0) {
                 positivesList += `<li>Este plato aporta aprox. <strong>${total.calories.toFixed(0)} kcal</strong>. Define un objetivo calórico diario para más contexto.</li>`;
            }

            // Proportion Feedback
            if (totalPlateItems > 0) {
                if (vegFruitPercent < 45) suggestionsList += `<li>Aumentar la proporción de <strong>vegetales/frutas</strong> (Actual: ${vegFruitPercent}%). Objetivo ideal: ~50%.</li>`;
                else positivesList += `<li>¡Buena proporción de vegetales y frutas (${vegFruitPercent}%)!</li>`;

                if (grainsPercent < 20) suggestionsList += `<li>Aumentar la proporción de <strong>granos integrales</strong> (Actual: ${grainsPercent}%). Objetivo ideal: ~25%.</li>`;
                else if (grainsPercent > 30) suggestionsList += `<li>Reducir la proporción de <strong>granos integrales</strong> (Actual: ${grainsPercent}%). Objetivo ideal: ~25%.</li>`;
                else positivesList += `<li>Proporción adecuada de granos integrales (${grainsPercent}%).</li>`;

                if (proteinPercentPlate < 20) suggestionsList += `<li>Aumentar la proporción de <strong>proteína saludable</strong> (Actual: ${proteinPercentPlate}%). Objetivo ideal: ~25%.</li>`;
                else if (proteinPercentPlate > 30) suggestionsList += `<li>Reducir la proporción de <strong>proteína saludable</strong> (Actual: ${proteinPercentPlate}%). Objetivo ideal: ~25%.</li>`;
                else positivesList += `<li>Proporción adecuada de proteína (${proteinPercentPlate}%).</li>`;
            } else {
                suggestionsList += `<li>Añade alimentos a las secciones principales (vegetales, frutas, granos, proteína) para evaluar proporciones.</li>`;
            }

            // Avoid/Limit Feedback
            if (includedItems.avoid > 0) suggestionsList += `<li>Has incluido ${includedItems.avoid} alimento(s) clasificado(s) como 'Evitar'. Considera alternativas más saludables.</li>`;
            else positivesList += `<li>¡Genial! No has incluido alimentos clasificados como 'Evitar'.</li>`;

            if (includedItems.limit > 0) suggestionsList += `<li>Has incluido ${includedItems.limit} alimento(s) clasificado(s) como 'Limitar'. Consúmelos con moderación.</li>`;

            // Other Positives
            if (includedItems.oils) positivesList += `<li>¡Bien por incluir aceites saludables!</li>`;
            if (includedItems.water) positivesList += `<li>¡Excelente elección de agua como bebida principal!</li>`;
            if (total.fiber >= 7) positivesList += `<li>¡Alto aporte de fibra (${total.fiber.toFixed(1)}g)! Ayuda a la saciedad y salud digestiva.</li>`;
            else if (total.fiber >= 4) positivesList += `<li>Buen aporte de fibra (${total.fiber.toFixed(1)}g).</li>`;
            else if (total.fiber > 0) suggestionsList += `<li>Considera añadir más alimentos ricos en fibra (vegetales, legumbres, granos integrales). Aporte actual: ${total.fiber.toFixed(1)}g.</li>`;


            // Construct the final HTML
            let analysisHTML = `
                <h3 class="text-xl font-bold mb-4 text-gray-700 text-center">Análisis Detallado</h3>
                <div class="detailed-analysis-section text-center mb-4">
                    <p class="text-lg font-semibold">Puntuación Estimada: <span class="text-indigo-600 font-bold">${score}/${maxScore}</span></p>
                    <p class="text-sm text-gray-600">Proporciones (por nº items):
                        Veg/Fruta ${vegFruitPercent}%,
                        Granos ${grainsPercent}%,
                        Proteína ${proteinPercentPlate}%
                    </p>
                </div>
                <div class="nutrition-summary-section">
                    <h4 class="text-center font-semibold mb-2">Resumen Nutricional Estimado:</h4>
                    <p><strong>Calorías:</strong> ${total.calories.toFixed(1)} kcal</p>
                    <p><strong>Proteínas:</strong> ${total.protein.toFixed(1)} g (~${macroProtPercent}%)</p>
                    <p><strong>Grasas:</strong> ${total.fat.toFixed(1)} g (~${macroFatPercent}%)</p>
                    <p><strong>Carbohidratos:</strong> ${total.carbs.toFixed(1)} g (~${macroCarbPercent}%)</p>
                    <p><strong>Fibra:</strong> ${total.fiber.toFixed(1)} g</p>
                    <p class="text-xs italic text-gray-500 mt-2">(*) Estimación basada en 100g por alimento (5g para aceites). Las porciones reales pueden variar. (${foodItemsWithData} de ${foodCount} items con datos)</p>
                </div>`;

            if (positivesList) {
                analysisHTML += `
                    <div class="positives-section">
                        <h4>✓ Puntos Positivos:</h4>
                        <ul>${positivesList}</ul>
                    </div>`;
            }

            if (suggestionsList) {
                analysisHTML += `
                    <div class="suggestions-section">
                        <h4>▲ Sugerencias de Mejora:</h4>
                        <ul>${suggestionsList}</ul>
                    </div>`;
            }

            analysisHTML += `<p class="disclaimer">Recuerda: esto es una estimación general. Consulta con un profesional de la nutrición para asesoramiento personalizado.</p>`;

            analysisResultsDiv.innerHTML = analysisHTML;
            console.log("[Analyze] Analysis complete and results displayed.");
        }


        /**
         * Saves the current plate state to localStorage.
         */
        function savePlate() {
            console.log("[Save Plate] Attempting to save:", currentPlate);
            try {
                // Store the currentPlate object as a JSON string
                localStorage.setItem('interactivePlateData', JSON.stringify(currentPlate));
                console.log("[Save Plate] Data saved successfully to localStorage.");
                showNotification('Plato guardado correctamente.');
            } catch (e) {
                console.error("[Save Plate] Error saving plate data to localStorage:", e);
                let errorMsg = 'Error desconocido al guardar el plato.';
                if (e.name === 'QuotaExceededError') {
                    errorMsg = 'Error al guardar: Almacenamiento local lleno.';
                } else if (e.name === 'SecurityError') {
                    errorMsg = 'Error al guardar: Almacenamiento local desactivado o no permitido por el navegador.';
                }
                showNotification(errorMsg, 4000, true); // Show error notification
            }
        }

        /**
         * Loads the plate state from localStorage.
         */
        function loadPlate() {
            console.log("[Load Plate] Attempting to load data...");
            let loadedSuccessfully = false;
            let plateIsEmpty = true;
            let savedData = null; // Initialize savedData

            try {
                savedData = localStorage.getItem('interactivePlateData');
                if (savedData) {
                    const parsedData = JSON.parse(savedData);

                    // Basic validation: check if it's an object
                    if (typeof parsedData === 'object' && parsedData !== null) {
                         // Ensure all categories exist as arrays, even if empty in saved data
                        const defaultPlate = { vegetables: [], fruits: [], grains: [], protein: [], oils: [], drinks: [] };
                        currentPlate = { ...defaultPlate, ...parsedData };

                        // Add nutrition data back to loaded items (it's not saved in localStorage)
                        for (const category in currentPlate) {
                            if (Array.isArray(currentPlate[category])) {
                                currentPlate[category].forEach(item => {
                                    if (item && typeof item === 'object' && !item.nutrition) {
                                         item.nutrition = getNutritionData(item.name);
                                    }
                                });
                            } else {
                                // If a category is not an array, reset it
                                console.warn(`[Load Plate] Invalid data type for category ${category}, resetting.`);
                                currentPlate[category] = [];
                            }
                        }

                        plateIsEmpty = Object.values(currentPlate).every(arr => arr.length === 0);
                        loadedSuccessfully = !plateIsEmpty;
                        console.log("[Load Plate] Data loaded and parsed:", currentPlate);
                    } else {
                        console.error("[Load Plate] Invalid data format found in localStorage.");
                        currentPlate = { vegetables: [], fruits: [], grains: [], protein: [], oils: [], drinks: [] };
                        plateIsEmpty = true;
                    }

                } else {
                    // No data found, initialize empty plate
                    currentPlate = { vegetables: [], fruits: [], grains: [], protein: [], oils: [], drinks: [] };
                    plateIsEmpty = true;
                    console.log("[Load Plate] No saved data found.");
                }
            } catch (e) {
                console.error("[Load Plate] Error loading or parsing plate data:", e);
                // Reset to empty plate on error
                currentPlate = { vegetables: [], fruits: [], grains: [], protein: [], oils: [], drinks: [] };
                plateIsEmpty = true;
                loadedSuccessfully = false; // Indicate loading failed
            }

            renderPlate(); // Update the visual display

            // Update analysis results message based on load status
            let initialAnalysisMessage = '';
            if (loadedSuccessfully) {
                initialAnalysisMessage = 'Plato cargado. Analiza para ver resultados.';
                showNotification('Último plato guardado cargado.');
            } else if (savedData !== null) { // An error occurred during load/parse
                initialAnalysisMessage = 'Error al cargar o datos inválidos. Mostrando plato vacío.';
                 showNotification('Error al cargar el plato guardado.', 3000, true);
            } else { // No data was found initially
                 initialAnalysisMessage = 'No se encontró plato guardado. Selecciona alimentos y analiza.';
            }

            analysisResultsDiv.innerHTML = `
                <h3 class="text-xl font-bold mb-4 text-gray-700 text-center">Análisis del Plato</h3>
                <p class="text-gray-500 italic text-center">${initialAnalysisMessage}</p>`;
        }


        /**
         * Clears the current plate state and resets the interface.
         */
        function clearPlate() {
            console.log("[Clear Plate] Clearing the plate and inputs.");
            // Reset the plate state
            currentPlate = { vegetables: [], fruits: [], grains: [], protein: [], oils: [], drinks: [] };
            renderPlate(); // Update the visual display

            // Reset the analysis results area
            analysisResultsDiv.innerHTML = `
                <h3 class="text-xl font-bold mb-4 text-gray-700 text-center">Análisis del Plato</h3>
                <p class="text-gray-500 italic text-center">Plato limpiado. Selecciona alimentos, define tu contexto y haz clic en "Analizar Plato".</p>`;

            // Reset input fields safely
            if (dailyCaloriesInput) {
                dailyCaloriesInput.value = '2000'; // Reset to default or empty ''
            } else {
                console.error("Element 'daily-calories-input' not found");
            }
            if (objectiveSelect) {
                objectiveSelect.value = 'maintain'; // Reset to default
            } else {
                console.error("Element 'objective-select' not found");
            }
             if (activityLevelSelect) {
                activityLevelSelect.value = 'sedentary'; // Reset to default
            } else {
                console.error("Element 'activity-level-select' not found");
            }

            // Reset all select dropdowns
            for (const category in selectors) {
                if (selectors[category]) {
                    selectors[category].value = ""; // Set to the placeholder option
                }
            }

            showNotification('Plato limpiado.', 2000);
        }

        /**
         * Generates a PDF of the plate area using html2canvas and jsPDF.
         * CORREGIDO: Targets 'printable-area' and hides only internal buttons.
         */
         function printToPDF() {
            console.log("[Print PDF] Initiating PDF generation...");

            // Check if libraries are loaded
            if (typeof window.jspdf === 'undefined' || typeof window.jspdf.jsPDF === 'undefined' || typeof html2canvas === 'undefined') {
                console.error("[Print PDF] Error: jsPDF or html2canvas library not loaded.");
                showNotification("Error: No se pudo encontrar la librería para generar PDF.", 4000, true);
                return;
            }

            const { jsPDF } = window.jspdf;
            // **CORREGIDO:** Target the correct area to print (only the plate visual)
            const areaToPrint = document.getElementById('printable-area');

            if (!areaToPrint) {
                console.error("[Print PDF] Error: Printable area element (#printable-area) not found.");
                showNotification("Error: No se encontró el área para imprimir (#printable-area).", 4000, true);
                return;
            }

            // **CORREGIDO:** Select only the remove buttons *inside* the printable area (plate sections)
            const buttonsToHide = areaToPrint.querySelectorAll('.plate-section ul button');

            // Hide buttons temporarily
            buttonsToHide.forEach(btn => btn.style.visibility = 'hidden');
            console.log(`[Print PDF] Temporarily hiding ${buttonsToHide.length} remove buttons.`);

            // Use html2canvas to capture the designated area
            html2canvas(areaToPrint, {
                scale: 2, // Increase scale for better resolution
                useCORS: true, // Good practice, though likely not needed here
                logging: false // Disable html2canvas console logging
            })
            .then(canvas => {
                console.log("[Print PDF] Canvas captured successfully.");
                const imgData = canvas.toDataURL('image/png'); // Get image data from canvas

                // Create new jsPDF instance (A4 size, portrait)
                const pdf = new jsPDF({ orientation: 'portrait', unit: 'pt', format: 'a4' });

                // Calculate image dimensions to fit PDF page with margins
                const imgProps = pdf.getImageProperties(imgData);
                const pdfWidth = pdf.internal.pageSize.getWidth();
                const pdfHeight = pdf.internal.pageSize.getHeight();
                const margin = 40; // Page margin
                const headerHeight = 40; // Space for title
                const availableWidth = pdfWidth - 2 * margin;
                const availableHeight = pdfHeight - 2 * margin - headerHeight;

                // Calculate the best ratio to fit the image
                let ratio = Math.min(availableWidth / imgProps.width, availableHeight / imgProps.height);
                let finalImgWidth = imgProps.width * ratio;
                let finalImgHeight = imgProps.height * ratio;

                // Center the image on the page
                let xPos = (pdfWidth - finalImgWidth) / 2;
                let yPos = margin + headerHeight; // Position below the title

                // Add title to the PDF
                pdf.setFontSize(18);
                pdf.text("Resumen de Mi Plato Interactivo", pdfWidth / 2, margin + 10, { align: 'center' });

                // Add the captured image to the PDF
                pdf.addImage(imgData, 'PNG', xPos, yPos, finalImgWidth, finalImgHeight);
                console.log("[Print PDF] Image added to PDF.");

                // Save the PDF
                pdf.save('mi-plato-interactivo.pdf');
                showNotification('PDF generado correctamente.', 3000);
            })
            .catch(err => {
                console.error("[Print PDF] Error generating PDF:", err);
                showNotification("Error al generar el PDF. Revisa la consola para más detalles.", 4000, true);
            })
            .finally(() => {
                // **CORREGIDO:** Restore visibility of the remove buttons inside the plate
                buttonsToHide.forEach(btn => btn.style.visibility = 'visible');
                console.log("[Print PDF] Restored visibility of remove buttons.");
            });
        }


        /**
         * Shows a temporary notification message at the bottom of the screen.
         * @param {string} message - The message to display.
         * @param {number} [duration=3000] - How long the notification stays visible (in ms).
         * @param {boolean} [isError=false] - If true, styles the notification as an error.
         */
        function showNotification(message, duration = 3000, isError = false) {
            // Clear any existing notification timeout
            if (notificationTimeout) {
                clearTimeout(notificationTimeout);
            }

            notification.textContent = message;
            notification.className = 'show'; // Add 'show' class to make it visible
            if (isError) {
                notification.classList.add('error'); // Add 'error' class for red background
            } else {
                notification.classList.remove('error'); // Ensure 'error' class is removed otherwise
            }

            // Set timeout to hide the notification after the duration
            notificationTimeout = setTimeout(() => {
                notification.className = ''; // Remove 'show' class to hide it
            }, duration);
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            console.log("[Init] DOM loaded. Initializing application.");
            populateSelectors(); // Fill dropdowns
            loadPlate();         // Load saved data if available

            // Add event listeners safely checking if elements exist
            if (analyzeBtn) {
                analyzeBtn.addEventListener('click', analyzePlate);
            } else {
                console.error("Button 'analyze-button' not found");
            }
            if (saveBtn) {
                saveBtn.addEventListener('click', savePlate);
            } else {
                console.error("Button 'save-button' not found");
            }
            if (loadBtn) {
                loadBtn.addEventListener('click', loadPlate);
            } else {
                console.error("Button 'load-button' not found");
            }
            if (printBtn) {
                printBtn.addEventListener('click', printToPDF);
            } else {
                console.error("Button 'print-button' not found");
            }
            if (clearBtn) {
                clearBtn.addEventListener('click', clearPlate);
            } else {
                console.error("Button 'clear-button' not found");
            }

            // Add keypress listener for calorie input (allow only numbers, trigger analysis on Enter)
            if (dailyCaloriesInput && analyzeBtn) {
                dailyCaloriesInput.addEventListener('keypress', function (e) {
                    // Allow only digits, backspace, delete, arrows, tab
                    if (!/\d/.test(e.key) && !['Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Tab'].includes(e.key)) {
                        e.preventDefault();
                    }
                    // Trigger analysis on Enter key
                    if (e.key === 'Enter') {
                         e.preventDefault(); // Prevent potential form submission
                         analyzePlate();
                    }
                });
                 // Optional: Trigger analysis when input loses focus and value changed
                // dailyCaloriesInput.addEventListener('change', analyzePlate);
            }

            console.log("[Init] Initialization complete and listeners added.");
        });
    </script>
</body>
</html>
